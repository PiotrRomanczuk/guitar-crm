2e55c83e208f0cdf0d8cd8d663cf2af5
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
/**
 * Middleware Protection Unit Tests
 * 
 * Tests route protection logic for:
 * 1. Public routes (accessible without auth)
 * 2. Protected routes (require authentication)
 * 3. Role-based route access (admin/teacher/student)
 * 4. Redirect behavior (auth -> dashboard, unauth -> login)
 * 
 * Priority: P1 - Critical for security and access control
 */ describe('Middleware Route Protection', ()=>{
    // Mock environment
    const mockEnv = {
        NEXT_PUBLIC_SUPABASE_URL: 'http://localhost:54321',
        NEXT_PUBLIC_SUPABASE_ANON_KEY: 'test-key'
    };
    beforeEach(()=>{
        // Set environment variables
        Object.entries(mockEnv).forEach(([key, value])=>{
            process.env[key] = value;
        });
    });
    afterEach(()=>{
        jest.clearAllMocks();
    });
    describe('Public Routes', ()=>{
        it('should allow access to root path without auth', ()=>{
            const request = new _server.NextRequest('http://localhost:3000/');
            // Public route - should not redirect
            const publicPaths = [
                '/',
                '/auth/login',
                '/auth/register',
                '/auth/forgot-password'
            ];
            publicPaths.forEach((path)=>{
                const req = new _server.NextRequest(`http://localhost:3000${path}`);
                // Middleware should allow these through
                expect(req.url).toContain(path);
            });
        });
        it('should allow access to auth pages without auth', ()=>{
            const authPaths = [
                '/auth/login',
                '/auth/register',
                '/auth/forgot-password',
                '/auth/reset-password',
                '/auth/verify'
            ];
            authPaths.forEach((path)=>{
                const request = new _server.NextRequest(`http://localhost:3000${path}`);
                expect(request.url).toContain(path);
            });
        });
        it('should allow access to static assets', ()=>{
            const staticPaths = [
                '/_next/static/chunk.js',
                '/images/logo.png',
                '/favicon.ico',
                '/api/health'
            ];
            staticPaths.forEach((path)=>{
                const request = new _server.NextRequest(`http://localhost:3000${path}`);
                expect(request.url).toContain(path);
            });
        });
    });
    describe('Protected Routes', ()=>{
        it('should protect dashboard routes', ()=>{
            const protectedPaths = [
                '/dashboard',
                '/dashboard/lessons',
                '/dashboard/assignments',
                '/dashboard/students',
                '/dashboard/songs',
                '/dashboard/analytics'
            ];
            protectedPaths.forEach((path)=>{
                const request = new _server.NextRequest(`http://localhost:3000${path}`);
                // These should require authentication
                expect(request.url).toContain(path);
            });
        });
        it('should protect admin routes', ()=>{
            const adminPaths = [
                '/dashboard/users',
                '/dashboard/settings',
                '/dashboard/analytics'
            ];
            adminPaths.forEach((path)=>{
                const request = new _server.NextRequest(`http://localhost:3000${path}`);
                expect(request.url).toContain(path);
            });
        });
        it('should protect profile and settings routes', ()=>{
            const userPaths = [
                '/dashboard/profile',
                '/dashboard/account'
            ];
            userPaths.forEach((path)=>{
                const request = new _server.NextRequest(`http://localhost:3000${path}`);
                expect(request.url).toContain(path);
            });
        });
    });
    describe('Role-Based Access', ()=>{
        it('should identify admin-only routes', ()=>{
            const adminOnlyPaths = [
                '/dashboard/users',
                '/dashboard/settings',
                '/admin'
            ];
            // These routes should require admin role
            adminOnlyPaths.forEach((path)=>{
                const isAdminRoute = path.includes('/admin') || path.includes('/users') || path.includes('/settings');
                expect(isAdminRoute).toBe(true);
            });
        });
        it('should identify teacher-accessible routes', ()=>{
            const teacherPaths = [
                '/dashboard',
                '/dashboard/lessons',
                '/dashboard/assignments',
                '/dashboard/students',
                '/dashboard/songs'
            ];
            // Teachers should access these routes
            teacherPaths.forEach((path)=>{
                expect(path).toContain('/dashboard');
            });
        });
        it('should identify student-only routes', ()=>{
            const studentPaths = [
                '/dashboard',
                '/dashboard/assignments',
                '/dashboard/lessons',
                '/dashboard/songs'
            ];
            // Students should access these routes
            studentPaths.forEach((path)=>{
                expect(path).toContain('/dashboard');
            });
        });
        it('should block students from admin routes', ()=>{
            const blockedForStudents = [
                '/dashboard/users',
                '/dashboard/settings',
                '/dashboard/students',
                '/admin'
            ];
            blockedForStudents.forEach((path)=>{
                // These should be blocked for student role
                const isBlockedRoute = path.includes('/admin') || path.includes('/users') || path.includes('/settings') || path.includes('/students');
                expect(isBlockedRoute).toBe(true);
            });
        });
    });
    describe('Redirect Behavior', ()=>{
        it('should redirect authenticated users from auth pages to dashboard', ()=>{
            // If user is authenticated and visits /auth/login
            // Should redirect to /dashboard
            const authPages = [
                '/auth/login',
                '/auth/register'
            ];
            authPages.forEach((page)=>{
                expect(page).toContain('/auth');
            // Middleware should redirect to /dashboard when authenticated
            });
        });
        it('should redirect unauthenticated users to login', ()=>{
            // If user is not authenticated and visits /dashboard
            // Should redirect to /auth/login
            const protectedPages = [
                '/dashboard',
                '/dashboard/lessons'
            ];
            protectedPages.forEach((page)=>{
                expect(page).toContain('/dashboard');
            // Middleware should redirect to /auth/login when not authenticated
            });
        });
        it('should preserve return URL after login redirect', ()=>{
            // When redirecting to login, should include returnUrl parameter
            const originalUrl = '/dashboard/lessons';
            const expectedRedirect = `/auth/login?returnUrl=${encodeURIComponent(originalUrl)}`;
            expect(expectedRedirect).toContain('returnUrl');
            expect(expectedRedirect).toContain(encodeURIComponent(originalUrl));
        });
        it('should redirect to return URL after successful login', ()=>{
            // After login, if returnUrl is present, redirect there
            const returnUrl = '/dashboard/assignments';
            const loginUrl = `/auth/login?returnUrl=${encodeURIComponent(returnUrl)}`;
            expect(loginUrl).toContain('returnUrl');
        // After successful login, should redirect to returnUrl
        });
    });
    describe('Session Validation', ()=>{
        it('should validate session token format', ()=>{
            // Session token should be in proper JWT format
            const validToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c';
            // Should have 3 parts separated by dots
            const parts = validToken.split('.');
            expect(parts).toHaveLength(3);
        });
        it('should reject invalid session tokens', ()=>{
            const invalidTokens = [
                '',
                'invalid',
                'only.two'
            ];
            invalidTokens.forEach((token)=>{
                const parts = token.split('.');
                expect(parts.length).toBeLessThan(3);
            });
        });
        it('should handle expired sessions', ()=>{
            // Expired session should trigger re-authentication
            const expiredToken = {
                exp: Math.floor(Date.now() / 1000) - 3600 // 1 hour ago
            };
            expect(expiredToken.exp).toBeLessThan(Math.floor(Date.now() / 1000));
        });
        it('should refresh sessions near expiry', ()=>{
            // Session near expiry should be refreshed
            const nearExpiryToken = {
                exp: Math.floor(Date.now() / 1000) + 300 // 5 minutes from now
            };
            const now = Math.floor(Date.now() / 1000);
            const timeUntilExpiry = nearExpiryToken.exp - now;
            expect(timeUntilExpiry).toBeLessThan(600); // Less than 10 minutes
        });
    });
    describe('API Route Protection', ()=>{
        it('should protect API routes', ()=>{
            const apiRoutes = [
                '/api/lessons',
                '/api/assignments',
                '/api/students',
                '/api/songs',
                '/api/users'
            ];
            apiRoutes.forEach((route)=>{
                const request = new _server.NextRequest(`http://localhost:3000${route}`);
                expect(request.url).toContain('/api/');
            });
        });
        it('should allow public API endpoints', ()=>{
            const publicApiRoutes = [
                '/api/health',
                '/api/auth/callback',
                '/api/webhook'
            ];
            publicApiRoutes.forEach((route)=>{
                const request = new _server.NextRequest(`http://localhost:3000${route}`);
                expect(request.url).toContain('/api/');
            });
        });
        it('should validate API authentication headers', ()=>{
            // API requests should include Authorization header
            const headers = new Headers();
            headers.set('Authorization', 'Bearer token');
            expect(headers.get('Authorization')).toContain('Bearer');
        });
    });
    describe('Error Handling', ()=>{
        it('should handle missing environment variables gracefully', ()=>{
            // Remove env vars
            delete process.env.NEXT_PUBLIC_SUPABASE_URL;
            // Should not crash, should handle gracefully
            expect(process.env.NEXT_PUBLIC_SUPABASE_URL).toBeUndefined();
        });
        it('should handle malformed requests', ()=>{
            // Invalid URL should not crash middleware
            try {
                const request = new _server.NextRequest('invalid-url');
                expect(request).toBeDefined();
            } catch (error) {
                // Should handle error gracefully
                expect(error).toBeDefined();
            }
        });
        it('should handle database connection errors', ()=>{
            // When database is unavailable, should fail gracefully
            // Should not expose sensitive error details
            const errorMessage = 'Database connection failed';
            expect(errorMessage).not.toContain('password');
            expect(errorMessage).not.toContain('credentials');
        });
    });
});
describe('Route Pattern Matching', ()=>{
    it('should match exact routes', ()=>{
        const routes = [
            '/dashboard',
            '/auth/login'
        ];
        const path = '/dashboard';
        expect(routes).toContain(path);
    });
    it('should match route patterns with wildcards', ()=>{
        const pattern = '/dashboard/*';
        const paths = [
            '/dashboard/lessons',
            '/dashboard/assignments'
        ];
        paths.forEach((path)=>{
            expect(path).toContain('/dashboard/');
        });
    });
    it('should match dynamic route segments', ()=>{
        const pattern = '/dashboard/lessons/[id]';
        const path = '/dashboard/lessons/123';
        expect(path).toMatch(/\/dashboard\/lessons\/\d+/);
    });
    it('should prioritize specific routes over patterns', ()=>{
        const specificRoute = '/dashboard/settings';
        const pattern = '/dashboard/*';
        // Specific route should take precedence
        expect(specificRoute).toBe('/dashboard/settings');
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bpb3RyL0Rlc2t0b3AvZ3VpdGFyLWNybS9saWIvbWlkZGxld2FyZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcmlmeVJvdXRlUHJvdGVjdGlvbiB9IGZyb20gJ0AvbGliL21pZGRsZXdhcmUnXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJ1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgUHJvdGVjdGlvbiBVbml0IFRlc3RzXG4gKiBcbiAqIFRlc3RzIHJvdXRlIHByb3RlY3Rpb24gbG9naWMgZm9yOlxuICogMS4gUHVibGljIHJvdXRlcyAoYWNjZXNzaWJsZSB3aXRob3V0IGF1dGgpXG4gKiAyLiBQcm90ZWN0ZWQgcm91dGVzIChyZXF1aXJlIGF1dGhlbnRpY2F0aW9uKVxuICogMy4gUm9sZS1iYXNlZCByb3V0ZSBhY2Nlc3MgKGFkbWluL3RlYWNoZXIvc3R1ZGVudClcbiAqIDQuIFJlZGlyZWN0IGJlaGF2aW9yIChhdXRoIC0+IGRhc2hib2FyZCwgdW5hdXRoIC0+IGxvZ2luKVxuICogXG4gKiBQcmlvcml0eTogUDEgLSBDcml0aWNhbCBmb3Igc2VjdXJpdHkgYW5kIGFjY2VzcyBjb250cm9sXG4gKi9cblxuZGVzY3JpYmUoJ01pZGRsZXdhcmUgUm91dGUgUHJvdGVjdGlvbicsICgpID0+IHtcbiAgLy8gTW9jayBlbnZpcm9ubWVudFxuICBjb25zdCBtb2NrRW52ID0ge1xuICAgIE5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NTQzMjEnLFxuICAgIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZOiAndGVzdC1rZXknLFxuICB9XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gU2V0IGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgIE9iamVjdC5lbnRyaWVzKG1vY2tFbnYpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgcHJvY2Vzcy5lbnZba2V5XSA9IHZhbHVlXG4gICAgfSlcbiAgfSlcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1B1YmxpYyBSb3V0ZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBhY2Nlc3MgdG8gcm9vdCBwYXRoIHdpdGhvdXQgYXV0aCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8nKVxuICAgICAgXG4gICAgICAvLyBQdWJsaWMgcm91dGUgLSBzaG91bGQgbm90IHJlZGlyZWN0XG4gICAgICBjb25zdCBwdWJsaWNQYXRocyA9IFsnLycsICcvYXV0aC9sb2dpbicsICcvYXV0aC9yZWdpc3RlcicsICcvYXV0aC9mb3Jnb3QtcGFzc3dvcmQnXVxuICAgICAgXG4gICAgICBwdWJsaWNQYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICBjb25zdCByZXEgPSBuZXcgTmV4dFJlcXVlc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCR7cGF0aH1gKVxuICAgICAgICAvLyBNaWRkbGV3YXJlIHNob3VsZCBhbGxvdyB0aGVzZSB0aHJvdWdoXG4gICAgICAgIGV4cGVjdChyZXEudXJsKS50b0NvbnRhaW4ocGF0aClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgYWxsb3cgYWNjZXNzIHRvIGF1dGggcGFnZXMgd2l0aG91dCBhdXRoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYXV0aFBhdGhzID0gW1xuICAgICAgICAnL2F1dGgvbG9naW4nLFxuICAgICAgICAnL2F1dGgvcmVnaXN0ZXInLCBcbiAgICAgICAgJy9hdXRoL2ZvcmdvdC1wYXNzd29yZCcsXG4gICAgICAgICcvYXV0aC9yZXNldC1wYXNzd29yZCcsXG4gICAgICAgICcvYXV0aC92ZXJpZnknXG4gICAgICBdXG5cbiAgICAgIGF1dGhQYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAke3BhdGh9YClcbiAgICAgICAgZXhwZWN0KHJlcXVlc3QudXJsKS50b0NvbnRhaW4ocGF0aClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgYWxsb3cgYWNjZXNzIHRvIHN0YXRpYyBhc3NldHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0aWNQYXRocyA9IFtcbiAgICAgICAgJy9fbmV4dC9zdGF0aWMvY2h1bmsuanMnLFxuICAgICAgICAnL2ltYWdlcy9sb2dvLnBuZycsXG4gICAgICAgICcvZmF2aWNvbi5pY28nLFxuICAgICAgICAnL2FwaS9oZWFsdGgnXG4gICAgICBdXG5cbiAgICAgIHN0YXRpY1BhdGhzLmZvckVhY2gocGF0aCA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCR7cGF0aH1gKVxuICAgICAgICBleHBlY3QocmVxdWVzdC51cmwpLnRvQ29udGFpbihwYXRoKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdQcm90ZWN0ZWQgUm91dGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvdGVjdCBkYXNoYm9hcmQgcm91dGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvdGVjdGVkUGF0aHMgPSBbXG4gICAgICAgICcvZGFzaGJvYXJkJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvbGVzc29ucycsXG4gICAgICAgICcvZGFzaGJvYXJkL2Fzc2lnbm1lbnRzJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvc3R1ZGVudHMnLFxuICAgICAgICAnL2Rhc2hib2FyZC9zb25ncycsXG4gICAgICAgICcvZGFzaGJvYXJkL2FuYWx5dGljcydcbiAgICAgIF1cblxuICAgICAgcHJvdGVjdGVkUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChgaHR0cDovL2xvY2FsaG9zdDozMDAwJHtwYXRofWApXG4gICAgICAgIC8vIFRoZXNlIHNob3VsZCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGV4cGVjdChyZXF1ZXN0LnVybCkudG9Db250YWluKHBhdGgpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHByb3RlY3QgYWRtaW4gcm91dGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgYWRtaW5QYXRocyA9IFtcbiAgICAgICAgJy9kYXNoYm9hcmQvdXNlcnMnLFxuICAgICAgICAnL2Rhc2hib2FyZC9zZXR0aW5ncycsXG4gICAgICAgICcvZGFzaGJvYXJkL2FuYWx5dGljcydcbiAgICAgIF1cblxuICAgICAgYWRtaW5QYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAke3BhdGh9YClcbiAgICAgICAgZXhwZWN0KHJlcXVlc3QudXJsKS50b0NvbnRhaW4ocGF0aClcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgcHJvdGVjdCBwcm9maWxlIGFuZCBzZXR0aW5ncyByb3V0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyUGF0aHMgPSBbXG4gICAgICAgICcvZGFzaGJvYXJkL3Byb2ZpbGUnLFxuICAgICAgICAnL2Rhc2hib2FyZC9hY2NvdW50J1xuICAgICAgXVxuXG4gICAgICB1c2VyUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChgaHR0cDovL2xvY2FsaG9zdDozMDAwJHtwYXRofWApXG4gICAgICAgIGV4cGVjdChyZXF1ZXN0LnVybCkudG9Db250YWluKHBhdGgpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1JvbGUtQmFzZWQgQWNjZXNzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaWRlbnRpZnkgYWRtaW4tb25seSByb3V0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhZG1pbk9ubHlQYXRocyA9IFtcbiAgICAgICAgJy9kYXNoYm9hcmQvdXNlcnMnLFxuICAgICAgICAnL2Rhc2hib2FyZC9zZXR0aW5ncycsXG4gICAgICAgICcvYWRtaW4nXG4gICAgICBdXG5cbiAgICAgIC8vIFRoZXNlIHJvdXRlcyBzaG91bGQgcmVxdWlyZSBhZG1pbiByb2xlXG4gICAgICBhZG1pbk9ubHlQYXRocy5mb3JFYWNoKHBhdGggPT4ge1xuICAgICAgICBjb25zdCBpc0FkbWluUm91dGUgPSBwYXRoLmluY2x1ZGVzKCcvYWRtaW4nKSB8fCBwYXRoLmluY2x1ZGVzKCcvdXNlcnMnKSB8fCBwYXRoLmluY2x1ZGVzKCcvc2V0dGluZ3MnKVxuICAgICAgICBleHBlY3QoaXNBZG1pblJvdXRlKS50b0JlKHRydWUpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IHRlYWNoZXItYWNjZXNzaWJsZSByb3V0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZWFjaGVyUGF0aHMgPSBbXG4gICAgICAgICcvZGFzaGJvYXJkJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvbGVzc29ucycsXG4gICAgICAgICcvZGFzaGJvYXJkL2Fzc2lnbm1lbnRzJywgXG4gICAgICAgICcvZGFzaGJvYXJkL3N0dWRlbnRzJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvc29uZ3MnXG4gICAgICBdXG5cbiAgICAgIC8vIFRlYWNoZXJzIHNob3VsZCBhY2Nlc3MgdGhlc2Ugcm91dGVzXG4gICAgICB0ZWFjaGVyUGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgZXhwZWN0KHBhdGgpLnRvQ29udGFpbignL2Rhc2hib2FyZCcpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGlkZW50aWZ5IHN0dWRlbnQtb25seSByb3V0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdHVkZW50UGF0aHMgPSBbXG4gICAgICAgICcvZGFzaGJvYXJkJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvYXNzaWdubWVudHMnLFxuICAgICAgICAnL2Rhc2hib2FyZC9sZXNzb25zJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvc29uZ3MnXG4gICAgICBdXG5cbiAgICAgIC8vIFN0dWRlbnRzIHNob3VsZCBhY2Nlc3MgdGhlc2Ugcm91dGVzXG4gICAgICBzdHVkZW50UGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgZXhwZWN0KHBhdGgpLnRvQ29udGFpbignL2Rhc2hib2FyZCcpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGJsb2NrIHN0dWRlbnRzIGZyb20gYWRtaW4gcm91dGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgYmxvY2tlZEZvclN0dWRlbnRzID0gW1xuICAgICAgICAnL2Rhc2hib2FyZC91c2VycycsXG4gICAgICAgICcvZGFzaGJvYXJkL3NldHRpbmdzJyxcbiAgICAgICAgJy9kYXNoYm9hcmQvc3R1ZGVudHMnLCAvLyBzdHVkZW50cyBsaXN0IGlzIGFkbWluL3RlYWNoZXIgb25seVxuICAgICAgICAnL2FkbWluJ1xuICAgICAgXVxuXG4gICAgICBibG9ja2VkRm9yU3R1ZGVudHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgICAgLy8gVGhlc2Ugc2hvdWxkIGJlIGJsb2NrZWQgZm9yIHN0dWRlbnQgcm9sZVxuICAgICAgICBjb25zdCBpc0Jsb2NrZWRSb3V0ZSA9IHBhdGguaW5jbHVkZXMoJy9hZG1pbicpIHx8IHBhdGguaW5jbHVkZXMoJy91c2VycycpIHx8IHBhdGguaW5jbHVkZXMoJy9zZXR0aW5ncycpIHx8IHBhdGguaW5jbHVkZXMoJy9zdHVkZW50cycpXG4gICAgICAgIGV4cGVjdChpc0Jsb2NrZWRSb3V0ZSkudG9CZSh0cnVlKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdSZWRpcmVjdCBCZWhhdmlvcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlZGlyZWN0IGF1dGhlbnRpY2F0ZWQgdXNlcnMgZnJvbSBhdXRoIHBhZ2VzIHRvIGRhc2hib2FyZCcsICgpID0+IHtcbiAgICAgIC8vIElmIHVzZXIgaXMgYXV0aGVudGljYXRlZCBhbmQgdmlzaXRzIC9hdXRoL2xvZ2luXG4gICAgICAvLyBTaG91bGQgcmVkaXJlY3QgdG8gL2Rhc2hib2FyZFxuICAgICAgY29uc3QgYXV0aFBhZ2VzID0gWycvYXV0aC9sb2dpbicsICcvYXV0aC9yZWdpc3RlciddXG4gICAgICBcbiAgICAgIGF1dGhQYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICBleHBlY3QocGFnZSkudG9Db250YWluKCcvYXV0aCcpXG4gICAgICAgIC8vIE1pZGRsZXdhcmUgc2hvdWxkIHJlZGlyZWN0IHRvIC9kYXNoYm9hcmQgd2hlbiBhdXRoZW50aWNhdGVkXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJlZGlyZWN0IHVuYXV0aGVudGljYXRlZCB1c2VycyB0byBsb2dpbicsICgpID0+IHtcbiAgICAgIC8vIElmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQgYW5kIHZpc2l0cyAvZGFzaGJvYXJkXG4gICAgICAvLyBTaG91bGQgcmVkaXJlY3QgdG8gL2F1dGgvbG9naW5cbiAgICAgIGNvbnN0IHByb3RlY3RlZFBhZ2VzID0gWycvZGFzaGJvYXJkJywgJy9kYXNoYm9hcmQvbGVzc29ucyddXG4gICAgICBcbiAgICAgIHByb3RlY3RlZFBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgIGV4cGVjdChwYWdlKS50b0NvbnRhaW4oJy9kYXNoYm9hcmQnKVxuICAgICAgICAvLyBNaWRkbGV3YXJlIHNob3VsZCByZWRpcmVjdCB0byAvYXV0aC9sb2dpbiB3aGVuIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHByZXNlcnZlIHJldHVybiBVUkwgYWZ0ZXIgbG9naW4gcmVkaXJlY3QnLCAoKSA9PiB7XG4gICAgICAvLyBXaGVuIHJlZGlyZWN0aW5nIHRvIGxvZ2luLCBzaG91bGQgaW5jbHVkZSByZXR1cm5VcmwgcGFyYW1ldGVyXG4gICAgICBjb25zdCBvcmlnaW5hbFVybCA9ICcvZGFzaGJvYXJkL2xlc3NvbnMnXG4gICAgICBjb25zdCBleHBlY3RlZFJlZGlyZWN0ID0gYC9hdXRoL2xvZ2luP3JldHVyblVybD0ke2VuY29kZVVSSUNvbXBvbmVudChvcmlnaW5hbFVybCl9YFxuICAgICAgXG4gICAgICBleHBlY3QoZXhwZWN0ZWRSZWRpcmVjdCkudG9Db250YWluKCdyZXR1cm5VcmwnKVxuICAgICAgZXhwZWN0KGV4cGVjdGVkUmVkaXJlY3QpLnRvQ29udGFpbihlbmNvZGVVUklDb21wb25lbnQob3JpZ2luYWxVcmwpKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJlZGlyZWN0IHRvIHJldHVybiBVUkwgYWZ0ZXIgc3VjY2Vzc2Z1bCBsb2dpbicsICgpID0+IHtcbiAgICAgIC8vIEFmdGVyIGxvZ2luLCBpZiByZXR1cm5VcmwgaXMgcHJlc2VudCwgcmVkaXJlY3QgdGhlcmVcbiAgICAgIGNvbnN0IHJldHVyblVybCA9ICcvZGFzaGJvYXJkL2Fzc2lnbm1lbnRzJ1xuICAgICAgY29uc3QgbG9naW5VcmwgPSBgL2F1dGgvbG9naW4/cmV0dXJuVXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJldHVyblVybCl9YFxuICAgICAgXG4gICAgICBleHBlY3QobG9naW5VcmwpLnRvQ29udGFpbigncmV0dXJuVXJsJylcbiAgICAgIC8vIEFmdGVyIHN1Y2Nlc3NmdWwgbG9naW4sIHNob3VsZCByZWRpcmVjdCB0byByZXR1cm5VcmxcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdTZXNzaW9uIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBzZXNzaW9uIHRva2VuIGZvcm1hdCcsICgpID0+IHtcbiAgICAgIC8vIFNlc3Npb24gdG9rZW4gc2hvdWxkIGJlIGluIHByb3BlciBKV1QgZm9ybWF0XG4gICAgICBjb25zdCB2YWxpZFRva2VuID0gJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUp6ZFdJaU9pSXhNak0wTlRZM09Ea3dJaXdpYm1GdFpTSTZJa3B2YUc0Z1JHOWxJaXdpYVdGMElqb3hOVEUyTWpNNU1ESXlmUS5TZmxLeHdSSlNNZUtLRjJRVDRmd3BNZUpmMzZQT2s2eUpWX2FkUXNzdzVjJ1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGF2ZSAzIHBhcnRzIHNlcGFyYXRlZCBieSBkb3RzXG4gICAgICBjb25zdCBwYXJ0cyA9IHZhbGlkVG9rZW4uc3BsaXQoJy4nKVxuICAgICAgZXhwZWN0KHBhcnRzKS50b0hhdmVMZW5ndGgoMylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBzZXNzaW9uIHRva2VucycsICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRUb2tlbnMgPSBbXG4gICAgICAgICcnLFxuICAgICAgICAnaW52YWxpZCcsXG4gICAgICAgICdvbmx5LnR3bydcbiAgICAgIF1cblxuICAgICAgaW52YWxpZFRva2Vucy5mb3JFYWNoKHRva2VuID0+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0b2tlbi5zcGxpdCgnLicpXG4gICAgICAgIGV4cGVjdChwYXJ0cy5sZW5ndGgpLnRvQmVMZXNzVGhhbigzKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXhwaXJlZCBzZXNzaW9ucycsICgpID0+IHtcbiAgICAgIC8vIEV4cGlyZWQgc2Vzc2lvbiBzaG91bGQgdHJpZ2dlciByZS1hdXRoZW50aWNhdGlvblxuICAgICAgY29uc3QgZXhwaXJlZFRva2VuID0ge1xuICAgICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIC0gMzYwMCAvLyAxIGhvdXIgYWdvXG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChleHBpcmVkVG9rZW4uZXhwKS50b0JlTGVzc1RoYW4oTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCkpXG4gICAgfSlcblxuICAgIGl0KCdzaG91bGQgcmVmcmVzaCBzZXNzaW9ucyBuZWFyIGV4cGlyeScsICgpID0+IHtcbiAgICAgIC8vIFNlc3Npb24gbmVhciBleHBpcnkgc2hvdWxkIGJlIHJlZnJlc2hlZFxuICAgICAgY29uc3QgbmVhckV4cGlyeVRva2VuID0ge1xuICAgICAgICBleHA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgMzAwIC8vIDUgbWludXRlcyBmcm9tIG5vd1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKVxuICAgICAgY29uc3QgdGltZVVudGlsRXhwaXJ5ID0gbmVhckV4cGlyeVRva2VuLmV4cCAtIG5vd1xuICAgICAgXG4gICAgICBleHBlY3QodGltZVVudGlsRXhwaXJ5KS50b0JlTGVzc1RoYW4oNjAwKSAvLyBMZXNzIHRoYW4gMTAgbWludXRlc1xuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0FQSSBSb3V0ZSBQcm90ZWN0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvdGVjdCBBUEkgcm91dGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgYXBpUm91dGVzID0gW1xuICAgICAgICAnL2FwaS9sZXNzb25zJyxcbiAgICAgICAgJy9hcGkvYXNzaWdubWVudHMnLFxuICAgICAgICAnL2FwaS9zdHVkZW50cycsXG4gICAgICAgICcvYXBpL3NvbmdzJyxcbiAgICAgICAgJy9hcGkvdXNlcnMnXG4gICAgICBdXG5cbiAgICAgIGFwaVJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChgaHR0cDovL2xvY2FsaG9zdDozMDAwJHtyb3V0ZX1gKVxuICAgICAgICBleHBlY3QocmVxdWVzdC51cmwpLnRvQ29udGFpbignL2FwaS8nKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBhbGxvdyBwdWJsaWMgQVBJIGVuZHBvaW50cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHB1YmxpY0FwaVJvdXRlcyA9IFtcbiAgICAgICAgJy9hcGkvaGVhbHRoJyxcbiAgICAgICAgJy9hcGkvYXV0aC9jYWxsYmFjaycsXG4gICAgICAgICcvYXBpL3dlYmhvb2snXG4gICAgICBdXG5cbiAgICAgIHB1YmxpY0FwaVJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdChgaHR0cDovL2xvY2FsaG9zdDozMDAwJHtyb3V0ZX1gKVxuICAgICAgICBleHBlY3QocmVxdWVzdC51cmwpLnRvQ29udGFpbignL2FwaS8nKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBBUEkgYXV0aGVudGljYXRpb24gaGVhZGVycycsICgpID0+IHtcbiAgICAgIC8vIEFQSSByZXF1ZXN0cyBzaG91bGQgaW5jbHVkZSBBdXRob3JpemF0aW9uIGhlYWRlclxuICAgICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciB0b2tlbicpXG5cbiAgICAgIGV4cGVjdChoZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpKS50b0NvbnRhaW4oJ0JlYXJlcicpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZ3JhY2VmdWxseScsICgpID0+IHtcbiAgICAgIC8vIFJlbW92ZSBlbnYgdmFyc1xuICAgICAgZGVsZXRlIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTFxuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IGNyYXNoLCBzaG91bGQgaGFuZGxlIGdyYWNlZnVsbHlcbiAgICAgIGV4cGVjdChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwpLnRvQmVVbmRlZmluZWQoKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgcmVxdWVzdHMnLCAoKSA9PiB7XG4gICAgICAvLyBJbnZhbGlkIFVSTCBzaG91bGQgbm90IGNyYXNoIG1pZGRsZXdhcmVcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2ludmFsaWQtdXJsJylcbiAgICAgICAgZXhwZWN0KHJlcXVlc3QpLnRvQmVEZWZpbmVkKClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFNob3VsZCBoYW5kbGUgZXJyb3IgZ3JhY2VmdWxseVxuICAgICAgICBleHBlY3QoZXJyb3IpLnRvQmVEZWZpbmVkKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICAvLyBXaGVuIGRhdGFiYXNlIGlzIHVuYXZhaWxhYmxlLCBzaG91bGQgZmFpbCBncmFjZWZ1bGx5XG4gICAgICAvLyBTaG91bGQgbm90IGV4cG9zZSBzZW5zaXRpdmUgZXJyb3IgZGV0YWlsc1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJ1xuICAgICAgXG4gICAgICBleHBlY3QoZXJyb3JNZXNzYWdlKS5ub3QudG9Db250YWluKCdwYXNzd29yZCcpXG4gICAgICBleHBlY3QoZXJyb3JNZXNzYWdlKS5ub3QudG9Db250YWluKCdjcmVkZW50aWFscycpXG4gICAgfSlcbiAgfSlcbn0pXG5cbmRlc2NyaWJlKCdSb3V0ZSBQYXR0ZXJuIE1hdGNoaW5nJywgKCkgPT4ge1xuICBpdCgnc2hvdWxkIG1hdGNoIGV4YWN0IHJvdXRlcycsICgpID0+IHtcbiAgICBjb25zdCByb3V0ZXMgPSBbJy9kYXNoYm9hcmQnLCAnL2F1dGgvbG9naW4nXVxuICAgIGNvbnN0IHBhdGggPSAnL2Rhc2hib2FyZCdcbiAgICBcbiAgICBleHBlY3Qocm91dGVzKS50b0NvbnRhaW4ocGF0aClcbiAgfSlcblxuICBpdCgnc2hvdWxkIG1hdGNoIHJvdXRlIHBhdHRlcm5zIHdpdGggd2lsZGNhcmRzJywgKCkgPT4ge1xuICAgIGNvbnN0IHBhdHRlcm4gPSAnL2Rhc2hib2FyZC8qJ1xuICAgIGNvbnN0IHBhdGhzID0gWycvZGFzaGJvYXJkL2xlc3NvbnMnLCAnL2Rhc2hib2FyZC9hc3NpZ25tZW50cyddXG4gICAgXG4gICAgcGF0aHMuZm9yRWFjaChwYXRoID0+IHtcbiAgICAgIGV4cGVjdChwYXRoKS50b0NvbnRhaW4oJy9kYXNoYm9hcmQvJylcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdzaG91bGQgbWF0Y2ggZHluYW1pYyByb3V0ZSBzZWdtZW50cycsICgpID0+IHtcbiAgICBjb25zdCBwYXR0ZXJuID0gJy9kYXNoYm9hcmQvbGVzc29ucy9baWRdJ1xuICAgIGNvbnN0IHBhdGggPSAnL2Rhc2hib2FyZC9sZXNzb25zLzEyMydcbiAgICBcbiAgICBleHBlY3QocGF0aCkudG9NYXRjaCgvXFwvZGFzaGJvYXJkXFwvbGVzc29uc1xcL1xcZCsvKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcHJpb3JpdGl6ZSBzcGVjaWZpYyByb3V0ZXMgb3ZlciBwYXR0ZXJucycsICgpID0+IHtcbiAgICBjb25zdCBzcGVjaWZpY1JvdXRlID0gJy9kYXNoYm9hcmQvc2V0dGluZ3MnXG4gICAgY29uc3QgcGF0dGVybiA9ICcvZGFzaGJvYXJkLyonXG4gICAgXG4gICAgLy8gU3BlY2lmaWMgcm91dGUgc2hvdWxkIHRha2UgcHJlY2VkZW5jZVxuICAgIGV4cGVjdChzcGVjaWZpY1JvdXRlKS50b0JlKCcvZGFzaGJvYXJkL3NldHRpbmdzJylcbiAgfSlcbn0pIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwibW9ja0VudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiYmVmb3JlRWFjaCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwidmFsdWUiLCJwcm9jZXNzIiwiZW52IiwiYWZ0ZXJFYWNoIiwiamVzdCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInB1YmxpY1BhdGhzIiwicGF0aCIsInJlcSIsImV4cGVjdCIsInVybCIsInRvQ29udGFpbiIsImF1dGhQYXRocyIsInN0YXRpY1BhdGhzIiwicHJvdGVjdGVkUGF0aHMiLCJhZG1pblBhdGhzIiwidXNlclBhdGhzIiwiYWRtaW5Pbmx5UGF0aHMiLCJpc0FkbWluUm91dGUiLCJpbmNsdWRlcyIsInRvQmUiLCJ0ZWFjaGVyUGF0aHMiLCJzdHVkZW50UGF0aHMiLCJibG9ja2VkRm9yU3R1ZGVudHMiLCJpc0Jsb2NrZWRSb3V0ZSIsImF1dGhQYWdlcyIsInBhZ2UiLCJwcm90ZWN0ZWRQYWdlcyIsIm9yaWdpbmFsVXJsIiwiZXhwZWN0ZWRSZWRpcmVjdCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJldHVyblVybCIsImxvZ2luVXJsIiwidmFsaWRUb2tlbiIsInBhcnRzIiwic3BsaXQiLCJ0b0hhdmVMZW5ndGgiLCJpbnZhbGlkVG9rZW5zIiwidG9rZW4iLCJsZW5ndGgiLCJ0b0JlTGVzc1RoYW4iLCJleHBpcmVkVG9rZW4iLCJleHAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwibmVhckV4cGlyeVRva2VuIiwidGltZVVudGlsRXhwaXJ5IiwiYXBpUm91dGVzIiwicm91dGUiLCJwdWJsaWNBcGlSb3V0ZXMiLCJoZWFkZXJzIiwiSGVhZGVycyIsInNldCIsImdldCIsInRvQmVVbmRlZmluZWQiLCJ0b0JlRGVmaW5lZCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwibm90Iiwicm91dGVzIiwicGF0dGVybiIsInBhdGhzIiwidG9NYXRjaCIsInNwZWNp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