Script: ./scripts/ci/quality-check.sh
Timestamp: 2025-11-02 14:38:25
Duration: 36s
Exit Code: 1
Git Branch: copilot/vscode1762089882632
Git Commit: c32a43a27925faf3e47e56394b01fe5b06ccd354
User: piotrromanczuk
Node Version: v23.11.0
System: Darwin macbookair.home 25.0.0 Darwin Kernel Version 25.0.0: Wed Sep 17 21:41:39 PDT 2025; root:xnu-12377.1.9~141/RELEASE_ARM64_T8103 arm64
----------------------------------------
Output:
üîç CODE QUALITY CHECK
====================
üîß Running TypeScript type check...
__tests__/auth/credentials.test.ts(100,21): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type '{}'.
  Type 'undefined' is not assignable to type '{}'.
__tests__/auth/credentials.test.ts(104,21): error TS2339: Property 'isAdmin' does not exist on type 'never'.
__tests__/auth/credentials.test.ts(105,21): error TS2339: Property 'isTeacher' does not exist on type 'never'.
__tests__/auth/credentials.test.ts(106,21): error TS2339: Property 'isStudent' does not exist on type 'never'.
__tests__/auth/credentials.test.ts(166,23): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type '{}'.
  Type 'undefined' is not assignable to type '{}'.
__tests__/components/settings/SettingsComponents.test.tsx(38,6): error TS2741: Property 'id' is missing in type '{ label: string; description: string; checked: false; onChange: Mock<any, any, any>; }' but required in type 'ToggleSettingProps'.
__tests__/components/settings/SettingsComponents.test.tsx(53,6): error TS2741: Property 'id' is missing in type '{ label: string; description: string; checked: false; onChange: Mock<any, any, any>; }' but required in type 'ToggleSettingProps'.
__tests__/components/settings/SettingsComponents.test.tsx(75,6): error TS2741: Property 'id' is missing in type '{ label: string; description: string; value: string; options: { value: string; label: string; }[]; onChange: Mock<any, any, any>; }' but required in type 'SelectSettingProps'.
__tests__/components/settings/SettingsComponents.test.tsx(91,6): error TS2741: Property 'id' is missing in type '{ label: string; description: string; value: string; options: { value: string; label: string; }[]; onChange: Mock<any, any, any>; }' but required in type 'SelectSettingProps'.
__tests__/components/songs/SongList.test.tsx(116,5): error TS2322: Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/components/songs/SongList.test.tsx(127,5): error TS2322: Type '{ id: string; title: string; author: string; level: "advanced"; key: "Am"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "advanced"; key: "Am"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/components/songs/SongList.test.tsx(182,5): error TS2322: Type '{ id: string; title: string; author: string; level: "intermediate"; key: "Bm"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "intermediate"; key: "Bm"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/components/songs/SongList.test.tsx(237,5): error TS2322: Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; status: "started"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; status: "started"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/components/songs/SongList.test.tsx(249,5): error TS2322: Type '{ id: string; title: string; author: string; level: "beginner"; key: "G"; status: "to_learn"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "beginner"; key: "G"; status: "to_learn"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/components/songs/SongList.test.tsx(305,5): error TS2322: Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; created_at: string; ultimate_guitar_link: string; chords: string; }' is not assignable to type 'SongWithStatus'.
  Type '{ id: string; title: string; author: string; level: "beginner"; key: "C"; created_at: string; ultimate_guitar_link: string; chords: string; }' is missing the following properties from type '{ audio_files: string[] | null; author: string; chords: string | null; created_at: string; id: string; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | ... 17 more ... | "Bbm"; ... 4 more ...; updated_at: string | null; }': audio_files, short_title, updated_at
__tests__/database/user-seeding.test.ts(75,45): error TS2339: Property 'email' does not exist on type 'never'.
app/api/dashboard/stats/route.ts(31,15): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/dashboard/stats/route.ts(62,15): error TS2339: Property 'isTeacher' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/dashboard/stats/route.ts(76,20): error TS2345: Argument of type '"IN_PROGRESS"' is not assignable to parameter of type 'NonNullable<"SCHEDULED" | "COMPLETED" | "CANCELLED" | "RESCHEDULED">'.
app/api/dashboard/stats/route.ts(92,15): error TS2339: Property 'isStudent' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/admin-favorites/route.ts(23,17): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/admin-favorites/route.ts(30,11): error TS2769: No overload matches this call.
  Overload 1 of 2, '(relation: "lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; ... 4 more ...; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, { ...; } | ... 3 more ... | { ...; }, "lessons" | ... 3 more ... | "task_management", [] | ... 2 more ... | [...]>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
  Overload 2 of 2, '(relation: never): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; song_id: string; song_status: "started" | "remembered" | "mastered" | "to_learn" | "with_author"; student_id: string | null; teacher_id: string | null; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, never, never, never>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type 'never'.
app/api/song/bulk/route.ts(29,29): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/bulk/route.ts(29,49): error TS2339: Property 'isTeacher' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/bulk/route.ts(208,28): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/create/route.ts(25,29): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/create/route.ts(25,49): error TS2339: Property 'isTeacher' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/create/route.ts(44,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(values: { audio_files?: string[] | null | undefined; author: string; chords?: string | null | undefined; created_at?: string | undefined; id?: string | undefined; key: "C" | "C#" | "D" | "D#" | ... 26 more ... | "Bbm"; ... 4 more ...; updated_at?: string | ... 1 more ... | undefined; }, options?: { ...; } | undefined): PostgrestFilterBuilder<...>', gave the following error.
    Argument of type '{ title: string; author: string; level: "beginner" | "intermediate" | "advanced"; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | "C#m" | "Dm" | "D#m" | ... 7 more ... | "Bm"; chords?: string | undefined; audio_files?: Record<...> | undefined; ultimate_guitar_link?: string | ...' is not assignable to parameter of type '{ audio_files?: string[] | null | undefined; author: string; chords?: string | null | undefined; created_at?: string | undefined; id?: string | undefined; key: "C" | "C#" | "D" | "D#" | "E" | ... 25 more ... | "Bbm"; ... 4 more ...; updated_at?: string | ... 1 more ... | undefined; }'.
      Types of property 'audio_files' are incompatible.
        Type 'Record<string, any> | undefined' is not assignable to type 'string[] | null | undefined'.
          Type 'Record<string, any>' is missing the following properties from type 'string[]': length, pop, push, concat, and 35 more.
  Overload 2 of 2, '(values: { audio_files?: string[] | null | undefined; author: string; chords?: string | null | undefined; created_at?: string | undefined; id?: string | undefined; key: "C" | "C#" | "D" | "D#" | ... 26 more ... | "Bbm"; ... 4 more ...; updated_at?: string | ... 1 more ... | undefined; }[], options?: { ...; } | undefined): PostgrestFilterBuilder<...>', gave the following error.
    Argument of type '{ title: string; author: string; level: "beginner" | "intermediate" | "advanced"; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | "C#m" | "Dm" | "D#m" | ... 7 more ... | "Bm"; chords?: string | undefined; audio_files?: Record<...> | undefined; ultimate_guitar_link?: string | ...' is not assignable to parameter of type '{ audio_files?: string[] | null | undefined; author: string; chords?: string | null | undefined; created_at?: string | undefined; id?: string | undefined; key: "C" | "C#" | "D" | "D#" | "E" | ... 25 more ... | "Bbm"; ... 4 more ...; updated_at?: string | ... 1 more ... | undefined; }[]'.
      Type '{ title: string; author: string; level: "beginner" | "intermediate" | "advanced"; key: "C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | "C#m" | "Dm" | "D#m" | ... 7 more ... | "Bm"; chords?: string | undefined; audio_files?: Record<...> | undefined; ultimate_guitar_link?: string | ...' is missing the following properties from type '{ audio_files?: string[] | null | undefined; author: string; chords?: string | null | undefined; created_at?: string | undefined; id?: string | undefined; key: "C" | "C#" | "D" | "D#" | "E" | ... 25 more ... | "Bbm"; ... 4 more ...; updated_at?: string | ... 1 more ... | undefined; }[]': length, pop, push, concat, and 35 more.
app/api/song/export/route.ts(26,31): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/export/route.ts(26,51): error TS2339: Property 'isTeacher' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/export/route.ts(62,42): error TS2345: Argument of type 'string' is not assignable to parameter of type 'NonNullable<"beginner" | "intermediate" | "advanced">'.
app/api/song/export/route.ts(63,38): error TS2345: Argument of type 'string' is not assignable to parameter of type 'NonNullable<"C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | "C#m" | "Dm" | "D#m" | "Em" | "Fm" | "F#m" | "Gm" | "G#m" | "Am" | "A#m" | "Bm" | "Db" | "Eb" | "Gb" | "Ab" | "Bb" | "Ebm" | "Bbm">'.
app/api/song/favorites/route.ts(35,39): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/favorites/route.ts(41,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(relation: "lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; ... 4 more ...; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, { ...; } | ... 3 more ... | { ...; }, "lessons" | ... 3 more ... | "task_management", [] | ... 2 more ... | [...]>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
  Overload 2 of 2, '(relation: never): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; song_id: string; song_status: "started" | "remembered" | "mastered" | "to_learn" | "with_author"; student_id: string | null; teacher_id: string | null; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, never, never, never>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type 'never'.
app/api/song/favorites/route.ts(100,40): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/favorites/route.ts(117,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(relation: "lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; ... 4 more ...; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, { ...; } | ... 3 more ... | { ...; }, "lessons" | ... 3 more ... | "task_management", [] | ... 2 more ... | [...]>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
  Overload 2 of 2, '(relation: never): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; song_id: string; song_status: "started" | "remembered" | "mastered" | "to_learn" | "with_author"; student_id: string | null; teacher_id: string | null; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, never, never, never>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type 'never'.
app/api/song/favorites/route.ts(132,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(relation: "lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; ... 4 more ...; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, { ...; } | ... 3 more ... | { ...; }, "lessons" | ... 3 more ... | "task_management", [] | ... 2 more ... | [...]>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
  Overload 2 of 2, '(relation: never): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; song_id: string; song_status: "started" | "remembered" | "mastered" | "to_learn" | "with_author"; student_id: string | null; teacher_id: string | null; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, never, never, never>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type 'never'.
app/api/song/favorites/route.ts(186,39): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
app/api/song/favorites/route.ts(192,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(relation: "lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; ... 4 more ...; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, { ...; } | ... 3 more ... | { ...; }, "lessons" | ... 3 more ... | "task_management", [] | ... 2 more ... | [...]>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
  Overload 2 of 2, '(relation: never): PostgrestQueryBuilder<{ PostgrestVersion: "12"; }, { Tables: { lesson_songs: { Row: { created_at: string; lesson_id: string; song_id: string; song_status: "started" | "remembered" | "mastered" | "to_learn" | "with_author"; student_id: string | null; teacher_id: string | null; updated_at: string | null; }; Insert: { ...; }; Update: { ...; }; Relationships: [...]; }; lessons: { ...; }; profiles: { ...; }; songs: { ...; }; task_management: { ...; }; }; Views: {}; Functions: {}; Enums: { ...; }; CompositeTypes: {}; }, never, never, never>', gave the following error.
    Argument of type '"user_favorites"' is not assignable to parameter of type 'never'.
app/api/song/search/route.ts(48,42): error TS2345: Argument of type 'string' is not assignable to parameter of type 'NonNullable<"beginner" | "intermediate" | "advanced">'.
app/api/song/search/route.ts(49,38): error TS2345: Argument of type 'string' is not assignable to parameter of type 'NonNullable<"C" | "C#" | "D" | "D#" | "E" | "F" | "F#" | "G" | "G#" | "A" | "A#" | "B" | "Cm" | "C#m" | "Dm" | "D#m" | "Em" | "Fm" | "F#m" | "Gm" | "G#m" | "Am" | "A#m" | "Bm" | "Db" | "Eb" | "Gb" | "Ab" | "Bb" | "Ebm" | "Bbm">'.
app/api/song/stats/route.ts(24,28): error TS2339: Property 'isAdmin' does not exist on type 'SelectQueryError<"column 'isAdmin' does not exist on 'profiles'.">'.
components/auth/AuthProvider.tsx(31,3): error TS2344: Type '"isAdmin" | "isTeacher" | "isStudent"' does not satisfy the constraint '"id" | "created_at" | "updated_at" | "email" | "user_id" | "isadmin" | "isteacher" | "isstudent" | "isdevelopment" | "notes" | "bio" | "canEdit" | "firstname" | "isActive" | "isTest" | "lastname" | "username"'.
  Type '"isAdmin"' is not assignable to type '"id" | "created_at" | "updated_at" | "email" | "user_id" | "isadmin" | "isteacher" | "isstudent" | "isdevelopment" | "notes" | "bio" | "canEdit" | "firstname" | "isActive" | "isTest" | "lastname" | "username"'. Did you mean '"isadmin"'?
components/auth/AuthProvider.tsx(113,31): error TS2322: Type '{ user: User | null; session: Session | null; loading: boolean; signOut: () => Promise<void>; isAdmin: {}; isTeacher: {}; isStudent: {}; }' is not assignable to type 'AuthContextType'.
  Types of property 'isAdmin' are incompatible.
    Type '{}' is not assignable to type 'boolean'.
components/songs/SongList.tsx(26,5): error TS2322: Type 'Dispatch<SetStateAction<SongLevel | null>>' is not assignable to type '(level: string | null) => void'.
  Types of parameters 'value' and 'level' are incompatible.
    Type 'string | null' is not assignable to type 'SetStateAction<SongLevel | null>'.
      Type 'string' is not assignable to type 'SetStateAction<SongLevel | null>'.
components/SupabaseTest.tsx(104,16): error TS2551: Property 'firstName' does not exist on type '{ bio: string | null; canEdit: boolean; created_at: string; email: string | null; firstname: string | null; id: number; isActive: boolean | null; isadmin: boolean; isdevelopment: boolean | null; ... 7 more ...; username: string | null; }'. Did you mean 'firstname'?
components/SupabaseTest.tsx(104,36): error TS2551: Property 'lastName' does not exist on type '{ bio: string | null; canEdit: boolean; created_at: string; email: string | null; firstname: string | null; id: number; isActive: boolean | null; isadmin: boolean; isdevelopment: boolean | null; ... 7 more ...; username: string | null; }'. Did you mean 'lastname'?
components/SupabaseTest.tsx(105,16): error TS2551: Property 'isAdmin' does not exist on type '{ bio: string | null; canEdit: boolean; created_at: string; email: string | null; firstname: string | null; id: number; isActive: boolean | null; isadmin: boolean; isdevelopment: boolean | null; ... 7 more ...; username: string | null; }'. Did you mean 'isadmin'?
components/SupabaseTest.tsx(108,16): error TS2551: Property 'isTeacher' does not exist on type '{ bio: string | null; canEdit: boolean; created_at: string; email: string | null; firstname: string | null; id: number; isActive: boolean | null; isadmin: boolean; isdevelopment: boolean | null; ... 7 more ...; username: string | null; }'. Did you mean 'isteacher'?
components/SupabaseTest.tsx(111,16): error TS2551: Property 'isStudent' does not exist on type '{ bio: string | null; canEdit: boolean; created_at: string; email: string | null; firstname: string | null; id: number; isActive: boolean | null; isadmin: boolean; isdevelopment: boolean | null; ... 7 more ...; username: string | null; }'. Did you mean 'isstudent'?
lib/supabase.ts(33,35): error TS2344: Type '"user_favorites"' does not satisfy the constraint '"lessons" | "songs" | "profiles" | "lesson_songs" | "task_management"'.
[0;31m‚ùå TypeScript type errors found[0m

üßπ Running ESLint...

> guitar-crm@0.1.0 lint
> eslint


/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/resource-templates/index.js
  27:7  warning  'resourceTemplateMap' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/server/handler.js
  246:10  warning  'getToolSchema' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/api.js
  27:7  warning  'ComponentInfoSchema' is assigned a value but never used  @typescript-eslint/no-unused-vars
  38:7  warning  'ThemeSchema' is assigned a value but never used          @typescript-eslint/no-unused-vars
  45:7  warning  'BlockSchema' is assigned a value but never used          @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-react-native.js
   53:12  warning  'error' is defined but never used                       @typescript-eslint/no-unused-vars
  161:40  warning  'includeComponents' is assigned a value but never used  @typescript-eslint/no-unused-vars
  174:35  warning  'category' is defined but never used                    @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-svelte.js
   50:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
   65:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
  502:16  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-vue.js
   20:7   warning  'toKebabCase' is assigned a value but never used  @typescript-eslint/no-unused-vars
   70:50  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
   79:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  104:48  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  115:16  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  126:39  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  643:16  warning  'e' is defined but never used                     @typescript-eslint/no-unused-vars
  682:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios.js
   51:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
   66:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
  509:16  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/scripts/bump-version.js
   9:7   warning  '__dirname' is assigned a value but never used  @typescript-eslint/no-unused-vars
  58:12  warning  'error' is defined but never used               @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/resource-templates/index.ts
   34:7   warning  'resourceTemplateMap' is assigned a value but never used  @typescript-eslint/no-unused-vars
  172:26  error    Unexpected any. Specify a different type                  @typescript-eslint/no-explicit-any
  191:21  error    Unexpected any. Specify a different type                  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/handler.ts
   17:3   warning  'ErrorCode' is defined but never used      @typescript-eslint/no-unused-vars
   18:3   warning  'McpError' is defined but never used       @typescript-eslint/no-unused-vars
   23:24  warning  'tools' is defined but never used          @typescript-eslint/no-unused-vars
   47:11  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
   48:30  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  219:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  267:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  275:38  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  285:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  322:10  warning  'getToolSchema' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/sse.ts
   5:29  warning  'logWarning' is defined but never used    @typescript-eslint/no-unused-vars
  16:19  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  48:36  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  49:39  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/transport.ts
  91:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/api.ts
  31:7  warning  'ComponentInfoSchema' is assigned a value but only used as a type  @typescript-eslint/no-unused-vars
  43:7  warning  'ThemeSchema' is assigned a value but only used as a type          @typescript-eslint/no-unused-vars
  51:7  warning  'BlockSchema' is assigned a value but only used as a type          @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-react-native.ts
   25:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   42:30  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   56:12  warning  'error' is defined but never used                       @typescript-eslint/no-unused-vars
   90:22  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   91:19  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   98:19  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  160:69  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  168:14  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  196:3   warning  'includeComponents' is assigned a value but never used  @typescript-eslint/no-unused-vars
  197:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  211:35  warning  'category' is defined but never used                    @typescript-eslint/no-unused-vars
  211:63  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  227:36  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  230:36  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  235:43  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  236:43  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  245:46  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  268:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  293:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-svelte.ts
   53:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   69:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   87:53  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   94:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  184:69  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  189:59  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  197:48  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  228:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  267:38  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  303:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  314:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  340:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  465:66  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  499:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  502:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  519:92  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  546:18  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
  557:31  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  614:51  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  665:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  678:63  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  688:23  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  702:30  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  746:34  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  746:42  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  779:55  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  791:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  806:40  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  811:47  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  821:46  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  825:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-vue.ts
   22:7   warning  'toKebabCase' is assigned a value but never used  @typescript-eslint/no-unused-vars
   78:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
   88:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  119:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  131:14  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  147:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  161:16  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  165:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  178:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  284:69  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  348:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  397:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  442:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  457:27  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  489:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  629:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  632:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  656:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  670:25  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  739:37  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  796:14  warning  'e' is defined but never used                     @typescript-eslint/no-unused-vars
  811:63  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  814:20  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  841:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  846:17  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  898:26  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  898:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  939:47  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  961:37  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  968:43  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  980:46  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  984:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios.ts
   54:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   70:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   89:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   90:25  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   97:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  187:69  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  237:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  276:38  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  312:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  323:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  349:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  474:66  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  508:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  511:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  528:92  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  555:18  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
  566:31  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  623:51  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  674:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  687:63  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  697:23  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  711:30  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  755:34  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  755:42  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  788:55  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  800:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  815:40  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  820:47  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  830:46  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  834:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/cache.ts
  13:42  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/logger.ts
  10:51  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/validation.ts
   86:11  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  159:11  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/__tests__/auth/credentials.test.ts
   90:16  error    Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong  @typescript-eslint/no-non-null-asserted-optional-chain
  139:13  warning  'user' is assigned a value but never used                                                                   @typescript-eslint/no-unused-vars
  174:13  warning  'user' is assigned a value but never used                                                                   @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/app/admin/users/page.tsx
  11:16  warning  Function 'UsersPage' has too many lines (179). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/dashboard/stats/route.ts
  8:8  warning  Async function 'GET' has too many lines (112). Maximum allowed is 80  max-lines-per-function
  8:8  warning  Async function 'GET' has a complexity of 21. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/bulk/route.ts
    9:8  warning  Async function 'POST' has too many lines (152). Maximum allowed is 80  max-lines-per-function
    9:8  warning  Async function 'POST' has a complexity of 19. Maximum allowed is 10    complexity
  114:6  warning  Blocks are nested too deeply (5). Maximum allowed is 4                 max-depth
  137:6  warning  Blocks are nested too deeply (5). Maximum allowed is 4                 max-depth

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/export/route.ts
  5:8  warning  Async function 'GET' has too many lines (112). Maximum allowed is 80  max-lines-per-function
  5:8  warning  Async function 'GET' has a complexity of 22. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/favorites/route.ts
  5:8  warning  Async function 'GET' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/search/route.ts
  6:8  warning  Async function 'GET' has a complexity of 17. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/stats/route.ts
  4:8  warning  Async function 'GET' has too many lines (113). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 21. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/student-songs/route.ts
  4:8  warning  Async function 'GET' has too many lines (83). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 14. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/user-songs/route.ts
  4:8  warning  Async function 'GET' has too many lines (201). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 26. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/user-test-song/route.ts
  4:8  warning  Async function 'GET' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/SupabaseTest.tsx
  7:16  warning  Function 'SupabaseTest' has too many lines (105). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/admin/UserForm.tsx
  19:8  warning  Function 'UserForm' has too many lines (92). Maximum allowed is 80  max-lines-per-function
  19:8  warning  Function 'UserForm' has a complexity of 15. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/AuthProvider.tsx
  25:8   warning  Function 'AuthProvider' has a complexity of 17. Maximum allowed is 10  complexity
  57:32  warning  Async arrow function has a complexity of 11. Maximum allowed is 10     complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ForgotPasswordForm.tsx
  10:16  warning  Function 'ForgotPasswordForm' has too many lines (106). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ProtectedRoute.tsx
  14:16  warning  Function 'ProtectedRoute' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ResetPasswordForm.tsx
  10:16  warning  Function 'ResetPasswordForm' has too many lines (118). Maximum allowed is 80  max-lines-per-function
  10:16  warning  Function 'ResetPasswordForm' has a complexity of 11. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/useSignUpLogic.ts
  18:1  warning  Function 'getValidationError' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongDetail.tsx
  16:16  warning  Function 'SongDetail' has too many lines (116). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongForm.Content.tsx
  15:16  warning  Function 'SongFormContent' has too many lines (86). Maximum allowed is 80  max-lines-per-function
  15:16  warning  Function 'SongFormContent' has a complexity of 17. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongForm.Fields.tsx
  10:16  warning  Function 'SongFormFields' has too many lines (96). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/create-test-users.ts
  4:7  warning  'supabaseAnonKey' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-assignments.ts
  145:10  warning  'songsByLevel' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-users-fixed.js
  2:26  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  3:16  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  4:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  5:14  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-users.js
  2:26  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  3:16  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  4:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  5:14  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/piotrromanczuk/Desktop/guitar-crm/set_passwords_from_file.js
  52:11  warning  'err' is defined but never used  @typescript-eslint/no-unused-vars

‚úñ 207 problems (120 errors, 87 warnings)

[0;31m‚ùå ESLint errors found[0m

üß™ Running tests with coverage...

> guitar-crm@0.1.0 test
> jest --coverage --watchAll=false

PASS __tests__/components/settings/SettingsComponents.test.tsx
PASS __tests__/components/songs/SongList.test.tsx
  ‚óè Console

    console.log
      ‚úÖ Loading state: Rendered correctly

      at Object.log (__tests__/components/songs/SongList.test.tsx:46:12)

    console.error
      Error loading songs: Error: Failed to fetch songs
          at /Users/piotrromanczuk/Desktop/guitar-crm/components/songs/useSongList.ts:47:11
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      52 | 			setError(null);
      53 | 		} catch (err) {
    > 54 | 			console.error('Error loading songs:', err);
         | 			        ^
      55 | 			setError(err instanceof Error ? err.message : 'Failed to load songs');
      56 | 			setSongs([]);
      57 | 		} finally {

      at error (components/songs/useSongList.ts:54:12)

    console.log
      ‚úÖ Error state: Error message displayed correctly {
        endpoint: '/api/song/admin-songs',
        errorMessage: 'Failed to fetch songs'
      }

      at Object.log (__tests__/components/songs/SongList.test.tsx:70:12)

    console.log
      ‚úÖ Auth error: Not authenticated message displayed

      at Object.log (__tests__/components/songs/SongList.test.tsx:91:12)

    console.log
      ‚úÖ Empty state: No songs message displayed

      at Object.log (__tests__/components/songs/SongList.test.tsx:109:12)

    console.log
      ‚úÖ Teacher view: All songs rendered successfully {
        songsCount: 2,
        songs: [
          { title: 'Wonderwall', author: 'Oasis', level: 'beginner' },
          {
            title: 'Stairway to Heaven',
            author: 'Led Zeppelin',
            level: 'advanced'
          }
        ],
        endpoint: '/api/song/admin-songs',
        userId: 'test-teacher-id'
      }

      at Object.log (__tests__/components/songs/SongList.test.tsx:160:12)

    console.log
      ‚úÖ Admin view: All songs rendered successfully {
        songsCount: 1,
        songs: [
          {
            title: 'Hotel California',
            author: 'Eagles',
            level: 'intermediate'
          }
        ],
        endpoint: '/api/song/admin-songs',
        userId: 'test-admin-id'
      }

      at Object.log (__tests__/components/songs/SongList.test.tsx:213:12)

    console.log
      ‚úÖ Student view: All assigned songs with status rendered successfully {
        songsCount: 2,
        songs: [
          {
            title: 'Wonderwall',
            author: 'Oasis',
            level: 'beginner',
            status: 'started'
          },
          {
            title: 'Knockin on Heavens Door',
            author: 'Bob Dylan',
            level: 'beginner',
            status: 'to_learn'
          }
        ],
        endpoint: '/api/song/student-songs',
        userId: 'test-student-id'
      }

      at Object.log (__tests__/components/songs/SongList.test.tsx:285:12)

    console.log
      ‚úÖ Level filtering: Data structure supports filtering {
        filteredCount: 1,
        level: 'beginner',
        note: 'UI filter interaction test pending'
      }

      at Object.log (__tests__/components/songs/SongList.test.tsx:333:12)

PASS __tests__/components/auth/ForgotPasswordForm.test.tsx
PASS __tests__/components/auth/AuthProvider.test.tsx
  ‚óè Console

    console.error
      An update to AuthProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      37 | 			setSession(session);
      38 | 			setUser(session?.user ?? null);
    > 39 | 			setLoading(false);
         | 			^
      40 | 		});
      41 |
      42 | 		// Listen for auth changes

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/auth/AuthProvider.tsx:39:4)

    console.error
      An update to AuthProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      37 | 			setSession(session);
      38 | 			setUser(session?.user ?? null);
    > 39 | 			setLoading(false);
         | 			^
      40 | 		});
      41 |
      42 | 		// Listen for auth changes

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/auth/AuthProvider.tsx:39:4)

    console.error
      An update to AuthProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      70 | 			if (error) {
      71 | 				// Fall back silently to user metadata if fetching profile fails due to RLS or network
    > 72 | 				setProfileRoles(null);
         | 				^
      73 | 				return;
      74 | 			}
      75 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setProfileRoles (components/auth/AuthProvider.tsx:72:5)

PASS __tests__/components/auth/ResetPasswordForm.test.tsx
PASS __tests__/components/auth/SignUpForm.test.tsx
PASS __tests__/components/auth/SignInForm.test.tsx
PASS __tests__/components/auth/ProtectedRoute.test.tsx
PASS __tests__/components/profile/ProfileComponents.test.tsx
PASS __tests__/components/songs/SongForm.test.tsx
PASS __tests__/components/profile/ProfileFormFields.test.tsx
PASS __tests__/components/ui/Spinner.test.tsx
PASS __tests__/components/songs/SongDetail.test.tsx
  ‚óè Console

    console.error
      An update to SongDetail inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      34 |
      35 | 			if (fetchError || !data || data.length === 0) {
    > 36 | 				setError('Song not found');
         | 				^
      37 | 				return;
      38 | 			}
      39 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (components/songs/SongDetail.tsx:36:5)

    console.error
      An update to SongDetail inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      42 | 			setError('Failed to load song');
      43 | 		} finally {
    > 44 | 			setLoading(false);
         | 			^
      45 | 		}
      46 | 	}, [songId]);
      47 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/songs/SongDetail.tsx:44:4)

PASS __tests__/components/auth/RequireRole.test.tsx
PASS __tests__/api/song/integration.test.ts
PASS __tests__/schemas/SongSchema.test.ts
PASS __tests__/api/song/handlers.test.ts
PASS __tests__/components/settings/useSettings.test.tsx
PASS __tests__/components/ui/Skeleton.test.tsx
PASS __tests__/components/navigation/Header.test.tsx
PASS __tests__/components/admin/index.test.tsx
PASS __tests__/setup.test.ts
--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
File                                                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                       
--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
All files                                               |   14.25 |     62.5 |   32.75 |   14.25 |                                                                         
 guitar-crm                                             |    0.47 |        0 |       0 |    0.47 |                                                                         
  cypress.config.ts                                     |       0 |        0 |       0 |       0 | 1-19                                                                    
  jest.config.simple.ts                                 |       0 |        0 |       0 |       0 | 1-47                                                                    
  jest.config.ts                                        |       0 |        0 |       0 |       0 | 1-79                                                                    
  middleware.ts                                         |    1.31 |        0 |       0 |    1.31 | 1-75                                                                    
  next.config.ts                                        |       0 |        0 |       0 |       0 | 1-7                                                                     
  set_passwords_from_file.js                            |       0 |        0 |       0 |       0 | 1-87                                                                    
  show-lighthouse-results.js                            |    0.91 |        0 |       0 |    0.91 | 1-108                                                                   
 guitar-crm/.mcp/shadcn-server/build                    |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-7                                                                     
 guitar-crm/.mcp/shadcn-server/build/cli                |       0 |        0 |       0 |       0 |                                                                         
  args.js                                               |       0 |        0 |       0 |       0 | 1-44                                                                    
 guitar-crm/.mcp/shadcn-server/build/prompts            |       0 |        0 |       0 |       0 |                                                                         
  helpers.js                                            |       0 |        0 |       0 |       0 | 1-118                                                                   
  index.js                                              |       0 |        0 |       0 |       0 | 1-440                                                                   
 guitar-crm/.mcp/shadcn-server/build/resource-templates |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-634                                                                   
 guitar-crm/.mcp/shadcn-server/build/resources          |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-98                                                                    
 guitar-crm/.mcp/shadcn-server/build/schemas            |       0 |        0 |       0 |       0 |                                                                         
  component.js                                          |       0 |        0 |       0 |       0 | 1                                                                       
 guitar-crm/.mcp/shadcn-server/build/server             |       0 |        0 |       0 |       0 |                                                                         
  capabilities.js                                       |       0 |        0 |       0 |       0 | 1-171                                                                   
  createServer.js                                       |       0 |        0 |       0 |       0 | 1-10                                                                    
  handler.js                                            |       0 |        0 |       0 |       0 | 1-270                                                                   
  index.js                                              |       0 |        0 |       0 |       0 | 1-54                                                                    
  sse.js                                                |       0 |        0 |       0 |       0 | 1-157                                                                   
  transport.js                                          |       0 |        0 |       0 |       0 | 1-98                                                                    
  version.js                                            |       0 |        0 |       0 |       0 | 1-25                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools              |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-94                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/blocks       |       0 |        0 |       0 |       0 |                                                                         
  get-block.js                                          |       0 |        0 |       0 |       0 | 1-36                                                                    
  list-blocks.js                                        |       0 |        0 |       0 |       0 | 1-42                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/components   |       0 |        0 |       0 |       0 |                                                                         
  get-component-demo.js                                 |       0 |        0 |       0 |       0 | 1-21                                                                    
  get-component-metadata.js                             |       0 |        0 |       0 |       0 | 1-24                                                                    
  get-component.js                                      |       0 |        0 |       0 |       0 | 1-21                                                                    
  list-components.js                                    |       0 |        0 |       0 |       0 | 1-22                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/repository   |       0 |        0 |       0 |       0 |                                                                         
  get-directory-structure.js                            |       0 |        0 |       0 |       0 | 1-38                                                                    
 guitar-crm/.mcp/shadcn-server/build/utils              |       0 |        0 |       0 |       0 |                                                                         
  api.js                                                |       0 |        0 |       0 |       0 | 1-52                                                                    
  axios-react-native.js                                 |       0 |        0 |       0 |       0 | 1-264                                                                   
  axios-svelte.js                                       |       0 |        0 |       0 |       0 | 1-785                                                                   
  axios-vue.js                                          |       0 |        0 |       0 |       0 | 1-844                                                                   
  axios.js                                              |       0 |        0 |       0 |       0 | 1-793                                                                   
  cache.js                                              |       0 |        0 |       0 |       0 | 1-146                                                                   
  circuit-breaker.js                                    |       0 |        0 |       0 |       0 | 1-112                                                                   
  framework.js                                          |       0 |        0 |       0 |       0 | 1-129                                                                   
  logger.js                                             |       0 |        0 |       0 |       0 | 1-27                                                                    
  validation.js                                         |       0 |        0 |       0 |       0 | 1-137                                                                   
 guitar-crm/.mcp/shadcn-server/scripts                  |       0 |        0 |       0 |       0 |                                                                         
  bump-version.js                                       |       0 |        0 |       0 |       0 | 1-72                                                                    
 guitar-crm/.mcp/shadcn-server/src                      |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-8                                                                     
 guitar-crm/.mcp/shadcn-server/src/cli                  |       0 |        0 |       0 |       0 |                                                                         
  args.ts                                               |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/prompts              |       0 |        0 |       0 |       0 |                                                                         
  helpers.ts                                            |       0 |        0 |       0 |       0 | 1-140                                                                   
  index.ts                                              |       0 |        0 |       0 |       0 | 1-527                                                                   
 guitar-crm/.mcp/shadcn-server/src/resource-templates   |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-687                                                                   
 guitar-crm/.mcp/shadcn-server/src/resources            |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-102                                                                   
 guitar-crm/.mcp/shadcn-server/src/schemas              |       0 |        0 |       0 |       0 |                                                                         
  component.ts                                          |       0 |        0 |       0 |       0 | 1-37                                                                    
 guitar-crm/.mcp/shadcn-server/src/server               |       0 |        0 |       0 |       0 |                                                                         
  capabilities.ts                                       |       0 |        0 |       0 |       0 | 1-187                                                                   
  createServer.ts                                       |       0 |        0 |       0 |       0 | 1-14                                                                    
  handler.ts                                            |       0 |        0 |       0 |       0 | 1-351                                                                   
  index.ts                                              |       0 |        0 |       0 |       0 | 1-68                                                                    
  sse.ts                                                |       0 |        0 |       0 |       0 | 1-189                                                                   
  transport.ts                                          |       0 |        0 |       0 |       0 | 1-117                                                                   
  version.ts                                            |       0 |        0 |       0 |       0 | 1-27                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools                |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-98                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/blocks         |       0 |        0 |       0 |       0 |                                                                         
  get-block.ts                                          |       0 |        0 |       0 |       0 | 1-51                                                                    
  list-blocks.ts                                        |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/components     |       0 |        0 |       0 |       0 |                                                                         
  get-component-demo.ts                                 |       0 |        0 |       0 |       0 | 1-22                                                                    
  get-component-metadata.ts                             |       0 |        0 |       0 |       0 | 1-25                                                                    
  get-component.ts                                      |       0 |        0 |       0 |       0 | 1-22                                                                    
  list-components.ts                                    |       0 |        0 |       0 |       0 | 1-23                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/repository     |       0 |        0 |       0 |       0 |                                                                         
  get-directory-structure.ts                            |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/utils                |       0 |        0 |       0 |       0 |                                                                         
  api.ts                                                |       0 |        0 |       0 |       0 | 1-65                                                                    
  axios-react-native.ts                                 |       0 |        0 |       0 |       0 | 1-319                                                                   
  axios-svelte.ts                                       |       0 |        0 |       0 |       0 | 1-851                                                                   
  axios-vue.ts                                          |       0 |        0 |       0 |       0 | 1-1014                                                                  
  axios.ts                                              |       0 |        0 |       0 |       0 | 1-861                                                                   
  cache.ts                                              |       0 |        0 |       0 |       0 | 1-179                                                                   
  circuit-breaker.ts                                    |       0 |        0 |       0 |       0 | 1-133                                                                   
  framework.ts                                          |       0 |        0 |       0 |       0 | 1-158                                                                   
  logger.ts                                             |       0 |        0 |       0 |       0 | 1-30                                                                    
  validation.ts                                         |       0 |        0 |       0 |       0 | 1-169                                                                   
 guitar-crm/__tests__/auth                              |       0 |        0 |       0 |       0 |                                                                         
  credentials.test.ts                                   |       0 |        0 |       0 |       0 | 1-211                                                                   
 guitar-crm/__tests__/database                          |       0 |        0 |       0 |       0 |                                                                         
  user-seeding.test.ts                                  |       0 |        0 |       0 |       0 | 1-127                                                                   
 guitar-crm/app                                         |       0 |        0 |       0 |       0 |                                                                         
  home.components.tsx                                   |       0 |        0 |       0 |       0 | 1-304                                                                   
  layout.tsx                                            |       0 |        0 |       0 |       0 | 1-47                                                                    
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-67                                                                    
 guitar-crm/app/admin                                   |    0.34 |        0 |       0 |    0.34 |                                                                         
  page.tsx                                              |    0.34 |        0 |       0 |    0.34 | 1-289                                                                   
 guitar-crm/app/admin/users                             |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-215                                                                   
 guitar-crm/app/api/admin/set-passwords                 |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-83                                                                    
 guitar-crm/app/api/dashboard/stats                     |    0.71 |        0 |       0 |    0.71 |                                                                         
  route.ts                                              |    0.71 |        0 |       0 |    0.71 | 1-138                                                                   
 guitar-crm/app/api/song                                |   43.14 |    79.16 |   88.88 |   43.14 |                                                                         
  handlers.ts                                           |   96.74 |    80.85 |     100 |   96.74 | 163-164,175-176,212-213,217-218                                         
  route.ts                                              |    0.32 |        0 |       0 |    0.32 | 1-307                                                                   
 guitar-crm/app/api/song/[id]                           |       2 |        0 |       0 |       2 |                                                                         
  route.ts                                              |       2 |        0 |       0 |       2 | 1-49                                                                    
 guitar-crm/app/api/song/admin-favorites                |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-42                                                                    
 guitar-crm/app/api/song/admin-songs                    |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-64                                                                    
 guitar-crm/app/api/song/bulk                           |    0.42 |        0 |       0 |    0.42 |                                                                         
  route.ts                                              |    0.42 |        0 |       0 |    0.42 | 1-237                                                                   
 guitar-crm/app/api/song/create                         |    1.47 |        0 |       0 |    1.47 |                                                                         
  route.ts                                              |    1.47 |        0 |       0 |    1.47 | 1-67                                                                    
 guitar-crm/app/api/song/export                         |     0.7 |        0 |       0 |     0.7 |                                                                         
  route.ts                                              |     0.7 |        0 |       0 |     0.7 | 1-140                                                                   
 guitar-crm/app/api/song/favorites                      |    0.46 |        0 |       0 |    0.46 |                                                                         
  route.ts                                              |    0.46 |        0 |       0 |    0.46 | 1-216                                                                   
 guitar-crm/app/api/song/search                         |    1.03 |        0 |       0 |    1.03 |                                                                         
  route.ts                                              |    1.03 |        0 |       0 |    1.03 | 1-96                                                                    
 guitar-crm/app/api/song/stats                          |     0.7 |        0 |       0 |     0.7 |                                                                         
  route.ts                                              |     0.7 |        0 |       0 |     0.7 | 1-140                                                                   
 guitar-crm/app/api/song/student-songs                  |     0.9 |        0 |       0 |     0.9 |                                                                         
  route.ts                                              |     0.9 |        0 |       0 |     0.9 | 1-110                                                                   
 guitar-crm/app/api/song/update                         |    1.42 |        0 |       0 |    1.42 |                                                                         
  route.ts                                              |    1.42 |        0 |       0 |    1.42 | 1-69                                                                    
 guitar-crm/app/api/song/user-songs                     |    0.45 |        0 |       0 |    0.45 |                                                                         
  route.ts                                              |    0.45 |        0 |       0 |    0.45 | 1-218                                                                   
 guitar-crm/app/api/song/user-test-song                 |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-82                                                                    
 guitar-crm/app/debug-auth                              |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-174                                                                   
 guitar-crm/app/forgot-password                         |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-21                                                                    
 guitar-crm/app/profile                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-57                                                                    
 guitar-crm/app/settings                                |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-165                                                                   
 guitar-crm/app/sign-in                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-40                                                                    
 guitar-crm/app/sign-up                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-44                                                                    
 guitar-crm/app/songs                                   |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-12                                                                    
 guitar-crm/app/songs/[id]                              |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-18                                                                    
 guitar-crm/app/songs/[id]/edit                         |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-18                                                                    
 guitar-crm/app/songs/new                               |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-12                                                                    
 guitar-crm/app/student                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-33                                                                    
 guitar-crm/app/teacher                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-37                                                                    
 guitar-crm/components                                  |       0 |        0 |       0 |       0 |                                                                         
  SupabaseTest.tsx                                      |       0 |        0 |       0 |       0 | 1-119                                                                   
 guitar-crm/components/admin                            |   23.46 |        0 |       0 |   23.46 |                                                                         
  AdminActionCard.tsx                                   |   19.35 |      100 |       0 |   19.35 | 13-62                                                                   
  AdminStatCard.tsx                                     |   36.84 |      100 |       0 |   36.84 | 8-19                                                                    
  UserCard.tsx                                          |   17.21 |      100 |       0 |   17.21 | 16-19,22-32,35-40,43-122                                                
  UserForm.Actions.tsx                                  |   32.25 |      100 |       0 |   32.25 | 11-31                                                                   
  UserForm.CheckboxInput.tsx                            |   30.76 |      100 |       0 |   30.76 | 13-39                                                                   
  UserForm.Header.tsx                                   |   25.64 |      100 |       0 |   25.64 | 11-39                                                                   
  UserForm.RoleSection.tsx                              |   19.67 |      100 |       0 |   19.67 | 13-61                                                                   
  UserForm.TextInput.tsx                                |   36.58 |      100 |       0 |   36.58 | 16-41                                                                   
  UserForm.helpers.ts                                   |   56.25 |      100 |       0 |   56.25 | 14-21,24-29                                                             
  UserForm.tsx                                          |   15.83 |      100 |       0 |   15.83 | 20-120                                                                  
  UserList.helpers.ts                                   |       0 |        0 |       0 |       0 | 1-9                                                                     
  UserList.tsx                                          |   20.93 |      100 |       0 |   20.93 | 26-78,81-129                                                            
  UserListEmptyState.tsx                                |   33.33 |      100 |       0 |   33.33 | 8-21                                                                    
  UserListLoadingState.tsx                              |   17.24 |      100 |       0 |   17.24 | 6-29                                                                    
  UserTableRow.tsx                                      |   20.79 |      100 |       0 |   20.79 | 16-19,22-32,35-40,43-101                                                
  index.ts                                              |     100 |      100 |     100 |     100 |                                                                         
 guitar-crm/components/auth                             |   88.01 |     87.6 |   98.24 |   88.01 |                                                                         
  AuthContext.tsx                                       |       0 |        0 |       0 |       0 | 1-113                                                                   
  AuthProvider.tsx                                      |   96.72 |    67.44 |     100 |   96.72 | 75-76,119-120                                                           
  ForgotPasswordForm.tsx                                |   96.92 |    89.47 |     100 |   96.92 | 34-35,57-58                                                             
  ProtectedRoute.tsx                                    |     100 |      100 |     100 |     100 |                                                                         
  RequireRole.tsx                                       |   85.47 |    89.18 |     100 |   85.47 | 110,118-129,153,161-172                                                 
  ResetPasswordForm.tsx                                 |   94.44 |    92.85 |     100 |   94.44 | 47-48,63-66,81-82                                                       
  SignInForm.tsx                                        |   97.72 |    91.42 |     100 |   97.72 | 98,161-162,185-186                                                      
  SignUpForm.tsx                                        |     100 |      100 |     100 |     100 |                                                                         
  index.ts                                              |     100 |      100 |     100 |     100 |                                                                         
  useSignUpLogic.ts                                     |   97.31 |    86.66 |     100 |   97.31 | 62-63,98-99                                                             
 guitar-crm/components/navigation                       |   93.82 |    74.19 |   66.66 |   93.82 |                                                                         
  Header.tsx                                            |   96.47 |    83.33 |   61.53 |   96.47 | 28-34,148-149                                                           
  RoleBasedNav.tsx                                      |   85.88 |    61.53 |     100 |   85.88 | 37-38,53-57,61-65                                                       
 guitar-crm/components/profile                          |   59.51 |    85.71 |    62.5 |   59.51 |                                                                         
  ProfileComponents.tsx                                 |     100 |      100 |     100 |     100 |                                                                         
  ProfileForm.tsx                                       |       0 |        0 |       0 |       0 | 1-32                                                                    
  ProfileFormFields.tsx                                 |     100 |     90.9 |      60 |     100 | 82                                                                      
  useProfileData.ts                                     |       0 |        0 |       0 |       0 | 1-117                                                                   
 guitar-crm/components/settings                         |   59.68 |    65.21 |   91.66 |   59.68 |                                                                         
  SettingsComponents.tsx                                |     100 |       70 |     100 |     100 | 84-91                                                                   
  SettingsSections.tsx                                  |       0 |        0 |       0 |       0 | 1-151                                                                   
  useSettings.ts                                        |   96.59 |    66.66 |     100 |   96.59 | 39,66-67                                                                
 guitar-crm/components/songs                            |   76.89 |    78.46 |   41.37 |   76.89 |                                                                         
  SongDetail.tsx                                        |   77.85 |     37.5 |   33.33 |   77.85 | 39-42,53-80,85                                                          
  SongForm.Content.tsx                                  |   51.35 |    92.85 |   33.33 |   51.35 | 31-40,43-86                                                             
  SongForm.FieldSelect.tsx                              |     100 |    66.66 |      50 |     100 | 36                                                                      
  SongForm.FieldText.tsx                                |     100 |       50 |      50 |     100 | 35                                                                      
  SongForm.Fields.tsx                                   |     100 |      100 |    12.5 |     100 |                                                                         
  SongForm.tsx                                          |     100 |      100 |     100 |     100 |                                                                         
  SongFormGuard.tsx                                     |       0 |        0 |       0 |       0 | 1-44                                                                    
  SongList.Empty.tsx                                    |     100 |      100 |     100 |     100 |                                                                         
  SongList.Filter.tsx                                   |     100 |      100 |      50 |     100 |                                                                         
  SongList.Header.tsx                                   |     100 |      100 |     100 |     100 |                                                                         
  SongList.Table.tsx                                    |     100 |      100 |     100 |     100 |                                                                         
  SongList.tsx                                          |     100 |      100 |     100 |     100 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-4                                                                     
  useSong.ts                                            |       0 |        0 |       0 |       0 | 1-46                                                                    
  useSongList.ts                                        |   97.29 |    84.21 |     100 |   97.29 | 34-35                                                                   
 guitar-crm/components/student                          |    0.72 |        0 |       0 |    0.72 |                                                                         
  StudentDashboardStats.tsx                             |    1.26 |        0 |       0 |    1.26 | 1-78                                                                    
  StudentProgressOverview.tsx                           |       0 |        0 |       0 |       0 | 1-20                                                                    
  StudentRecentLessons.tsx                              |       0 |        0 |       0 |       0 | 1-19                                                                    
  StudentUpcomingLessons.tsx                            |       0 |        0 |       0 |       0 | 1-19                                                                    
 guitar-crm/components/teacher                          |    0.73 |        0 |       0 |    0.73 |                                                                         
  TeacherDashboardStats.tsx                             |    1.26 |        0 |       0 |    1.26 | 1-78                                                                    
  TeacherLessonSchedule.tsx                             |       0 |        0 |       0 |       0 | 1-19                                                                    
  TeacherRecentLessons.tsx                              |       0 |        0 |       0 |       0 | 1-19                                                                    
  TeacherStudentsList.tsx                               |       0 |        0 |       0 |       0 | 1-19                                                                    
 guitar-crm/components/ui                               |   49.89 |    83.33 |      20 |   49.89 |                                                                         
  avatar.tsx                                            |   20.75 |      100 |       0 |   20.75 | 8-22,24-35,37-51                                                        
  badge.tsx                                             |   63.04 |      100 |       0 |   63.04 | 28-44                                                                   
  button.tsx                                            |     100 |       50 |     100 |     100 | 49                                                                      
  card.tsx                                              |   21.73 |      100 |       0 |   21.73 | 5-16,18-29,31-39,41-49,51-62,64-72,74-82                                
  checkbox.tsx                                          |   31.25 |      100 |       0 |   31.25 | 9-30                                                                    
  input.tsx                                             |     100 |      100 |     100 |     100 |                                                                         
  label.tsx                                             |     100 |      100 |     100 |     100 |                                                                         
  skeleton.tsx                                          |     100 |      100 |     100 |     100 |                                                                         
  spinner.tsx                                           |     100 |      100 |     100 |     100 |                                                                         
  table.tsx                                             |   20.68 |      100 |       0 |   20.68 | 7-20,22-30,32-40,42-53,55-66,68-79,81-92,94-105                         
 guitar-crm/cypress/e2e                                 |       0 |        0 |       0 |       0 |                                                                         
  auth.cy.ts                                            |       0 |        0 |       0 |       0 | 1-247                                                                   
  smoke.cy.ts                                           |       0 |        0 |       0 |       0 | 1-7                                                                     
 guitar-crm/cypress/support                             |       0 |        0 |       0 |       0 |                                                                         
  e2e.ts                                                |       0 |        0 |       0 |       0 | 1-23                                                                    
 guitar-crm/lib                                         |    3.29 |    33.33 |   33.33 |    3.29 |                                                                         
  logging.ts                                            |     0.5 |        0 |       0 |     0.5 | 1-196                                                                   
  supabase.ts                                           |     2.5 |        0 |       0 |     2.5 | 1-39                                                                    
  utils.ts                                              |     100 |      100 |     100 |     100 |                                                                         
 guitar-crm/lib/hooks                                   |       0 |        0 |       0 |       0 |                                                                         
  useClickTracking.ts                                   |       0 |        0 |       0 |       0 | 1-45                                                                    
 guitar-crm/schemas                                     |   41.09 |        0 |       0 |   41.09 |                                                                         
  ActivityLogSchema.ts                                  |       0 |        0 |       0 |       0 | 1-114                                                                   
  AssignmentSchema.ts                                   |       0 |        0 |       0 |       0 | 1-95                                                                    
  CommonSchema.ts                                       |   77.71 |      100 |       0 |   77.71 | 105-111,114-120,123-129,132-138,142-143,146-147,150-151,155-156,159-161 
  LessonSchema.ts                                       |       0 |        0 |       0 |       0 | 1-83                                                                    
  ProfileSchema.ts                                      |       0 |        0 |       0 |       0 | 1-15                                                                    
  SettingsSchema.ts                                     |       0 |        0 |       0 |       0 | 1-26                                                                    
  SongSchema.ts                                         |     100 |      100 |     100 |     100 |                                                                         
  TaskSchema.ts                                         |       0 |        0 |       0 |       0 | 1-108                                                                   
  UserFavoriteSchema.ts                                 |       0 |        0 |       0 |       0 | 1-50                                                                    
  UserSchema.ts                                         |   86.57 |      100 |       0 |   86.57 | 114-117,121-136                                                         
  contactFormSchema.ts                                  |       0 |        0 |       0 |       0 | 1-10                                                                    
  index.ts                                              |       0 |        0 |       0 |       0 | 1-9                                                                     
 guitar-crm/scripts                                     |    1.38 |        0 |       0 |    1.38 |                                                                         
  import-json-to-db.js                                  |    1.38 |        0 |       0 |    1.38 | 1-71                                                                    
 guitar-crm/scripts/database                            |       0 |        0 |       0 |       0 |                                                                         
  create-test-users.ts                                  |       0 |        0 |       0 |       0 | 1-91                                                                    
  seed-assignments.ts                                   |       0 |        0 |       0 |       0 | 1-233                                                                   
  seed-dev-users.ts                                     |       0 |        0 |       0 |       0 | 1-253                                                                   
  seed-test-user.ts                                     |       0 |        0 |       0 |       0 | 1-123                                                                   
  seed-users-fixed.js                                   |       0 |        0 |       0 |       0 | 1-204                                                                   
  seed-users.js                                         |       0 |        0 |       0 |       0 | 1-198                                                                   
 guitar-crm/types                                       |       0 |        0 |       0 |       0 |                                                                         
  FavoritesSong.ts                                      |       0 |        0 |       0 |       0 | 1-8                                                                     
  Lesson.ts                                             |       0 |        0 |       0 |       0 | 1-19                                                                    
  LessonSongs.ts                                        |       0 |        0 |       0 |       0 | 1-19                                                                    
  Song.ts                                               |       0 |        0 |       0 |       0 | 1-19                                                                    
  User.ts                                               |       0 |        0 |       0 |       0 | 1-16                                                                    
  auth.ts                                               |       0 |        0 |       0 |       0 | 1-35                                                                    
  database.types.generated.ts                           |       0 |        0 |       0 |       0 | 1-564                                                                   
  database.types.ts                                     |       0 |        0 |       0 |       0 | 1-400                                                                   
 guitar-crm/utils/supabase/clients                      |       0 |        0 |       0 |       0 |                                                                         
  server.ts                                             |       0 |        0 |       0 |       0 | 1-19                                                                    
--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
Jest: "global" coverage threshold for statements (70%) not met: 14.25%
Jest: "global" coverage threshold for branches (70%) not met: 62.5%
Jest: "global" coverage threshold for lines (70%) not met: 14.25%
Jest: "global" coverage threshold for functions (70%) not met: 32.75%

Test Suites: 22 passed, 22 total
Tests:       208 passed, 208 total
Snapshots:   0 total
Time:        6.631 s
Ran all test suites.
[0;31m‚ùå Coverage report not found[0m
[0;31m‚ùå Coverage report not found[0m

üìù Checking for TODO/FIXME comments...
grep: ./.mcp/shadcn-server/node_modules/ipaddr.js: Is a directory
grep: ./node_modules/decimal.js: Is a directory
[1;33m‚ö†Ô∏è  Found     6051 TODO/FIXME comments[0m
./app/api/dashboard/stats/route.ts:86:					studentProgress: 0, // TODO: Calculate average progress
./app/api/dashboard/stats/route.ts:116:					progress: 0, // TODO: Calculate progress percentage
./app/page.tsx:47:	// TODO: Replace this redirect logic with the smart dashboard index
./.mcp/shadcn-server/node_modules/@types/express-serve-static-core/index.d.ts:105:    : Route extends `${string}(${string}` ? ParamsDictionary // TODO: handling for regex parameters
./.mcp/shadcn-server/node_modules/@types/express-serve-static-core/index.d.ts:109:                    : GetRouteParameter<Rest> extends `${infer ParamName}?` ? { [P in ParamName]?: string } // TODO: Remove old `?` handling when Express 5 is promoted to "latest"
./.mcp/shadcn-server/node_modules/@types/node/compatibility/indexable.d.ts:2:// TODO: these methods are not used within @types/node, and should be removed at the next
./.mcp/shadcn-server/node_modules/@types/node/compatibility/iterators.d.ts:6:// TODO: remove once this package no longer supports TS 5.5, and replace NodeJS.BuiltinIteratorReturn with BuiltinIteratorReturn.
./.mcp/shadcn-server/node_modules/@types/node/compatibility/disposable.d.ts:2:// TODO: remove once this package no longer supports TS 5.1, and replace with a
./.mcp/shadcn-server/node_modules/@types/node/globals.d.ts:439:        // TODO: In next major @types/node version, change default TReturn to undefined.
./.mcp/shadcn-server/node_modules/@types/node/globals.d.ts:446:        // TODO: In next major @types/node version, change default TReturn to undefined.
xargs: grep: terminated with signal 13; aborting
... and 6041 more

üß© Checking component file sizes (advisory)...
[1;33m‚ö†Ô∏è  The following files exceed 300 lines:[0m
app/home.components.tsx (     304 lines)
app/api/song/route.ts (     301 lines)
Consider splitting into smaller, composable components.

üì¶ Checking bundle size...
220K	.next/static/chunks/58e77fc17acbf1e7.js
184K	.next/static/chunks/d8a05102d3785352.js
124K	.next/static/chunks/6fe7031d98ed9c0a.js
112K	.next/static/chunks/a6dad97d9634a72d.js
 84K	.next/static/chunks/fb283c6c0a1825c5.js


üóÑÔ∏è Running Database Quality Check...
[0;34müîç DATABASE QUALITY CHECK[0m
======================

[0;34müì° Checking Supabase status...[0m
[0;32m‚úÖ Supabase is running[0m

[0;34müîç Checking test data integrity...[0m

[1;33mChecking test users:[0m
Test users count:      5

[1;33mChecking for real emails (should be 0):[0m
[0;32m‚úÖ No real emails found[0m

[1;33mChecking songs:[0m
Total songs:      0
Difficulty distribution:


[1;33mChecking lessons:[0m
Total lessons:      0

[1;33mChecking lesson-songs:[0m
Total lesson-song associations:      0

[1;33mChecking assignments:[0m
ERROR:  relation "public.assignments" does not exist
LINE 1: SELECT COUNT(*) FROM public.assignments;
                             ^
Total assignments: 
Assignment status distribution:
ERROR:  relation "public.assignments" does not exist
LINE 1: SELECT status, COUNT(*) FROM public.assignments GROUP BY sta...
                                     ^

[1;33mAverage practice minutes by song level:[0m
ERROR:  relation "public.assignments" does not exist
LINE 5:     FROM public.assignments a
                 ^
ERROR:  relation "public.assignments" does not exist
LINE 3:     FROM public.assignments 
                 ^
/Users/piotrromanczuk/Desktop/guitar-crm/scripts/ci/../database/check-db-quality.sh: line 98: [: : integer expression expected
ERROR:  relation "public.assignments" does not exist
LINE 1: SELECT COUNT(*) FROM public.assignments WHERE due_date IS NU...
                             ^
/Users/piotrromanczuk/Desktop/guitar-crm/scripts/ci/../database/check-db-quality.sh: line 104: [: : integer expression expected

[1;33mChecking for orphaned records:[0m
[0;32m‚úÖ No orphaned lesson-song records[0m

[1;33mChecking profiles:[0m
Total profiles:      6
Role distribution:
           1 |             2 |             4


[0;34müìä DATABASE SUMMARY[0m
======================
Test Users:      5
Songs:      0
Lessons:      0
Lesson-Song Associations:      0
Profiles:      6

[0;32m‚úÖ DATABASE QUALITY CHECK PASSED[0m
[0;32m‚úÖ Database quality check passed[0m

ÔøΩ Lighthouse Scores
=======================
jq: error (at lighthouse-results.json:9382): null (null) and number (100) cannot be multiplied
Performance     [0;31m‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë[0m  38
Accessibility   [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
Best Practices  [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
SEO             [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
./scripts/ci/quality-check.sh: line 74: [: PWA: integer expression expected
./scripts/ci/quality-check.sh: line 76: [: PWA: integer expression expected
./scripts/ci/quality-check.sh: line 90: printf: PWA: invalid number
                [0;31m‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë[0m   0

[1;33m‚ö†Ô∏è  Some Lighthouse scores are below 90[0m

======================
jq: error (at lighthouse-results.json:9382): null (null) and number (100) cannot be multiplied

üìä EXECUTION SUMMARY
===================

Lighthouse:
Performance:     38.00%  ‚ùå
Accessibility:  100.00%  ‚úÖ
Best Practices: 100.00%  ‚úÖ
SEO:            100.00%  ‚úÖ

======================
