Script: ./scripts/ci/quality-check.sh
Timestamp: 2025-11-03 13:42:41
Duration: 40s
Exit Code: 1
Git Branch: copilot/vscode1762089882632
Git Commit: 446e231c8c51a623c6c3f462a7c3d1787b6f63fc
User: piotrromanczuk
Node Version: v23.11.0
System: Darwin macbookair.home 25.0.0 Darwin Kernel Version 25.0.0: Wed Sep 17 21:41:39 PDT 2025; root:xnu-12377.1.9~141/RELEASE_ARM64_T8103 arm64
----------------------------------------
Output:
üîç CODE QUALITY CHECK
====================
üîß Running TypeScript type check...
components/auth/ProtectedRoute.tsx(79,1): error TS1005: '}' expected.
[0;31m‚ùå TypeScript type errors found[0m

üßπ Running ESLint...

> guitar-crm@0.1.0 lint
> eslint


/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/resource-templates/index.js
  27:7  warning  'resourceTemplateMap' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/server/handler.js
  246:10  warning  'getToolSchema' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/api.js
  27:7  warning  'ComponentInfoSchema' is assigned a value but never used  @typescript-eslint/no-unused-vars
  38:7  warning  'ThemeSchema' is assigned a value but never used          @typescript-eslint/no-unused-vars
  45:7  warning  'BlockSchema' is assigned a value but never used          @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-react-native.js
   53:12  warning  'error' is defined but never used                       @typescript-eslint/no-unused-vars
  161:40  warning  'includeComponents' is assigned a value but never used  @typescript-eslint/no-unused-vars
  174:35  warning  'category' is defined but never used                    @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-svelte.js
   50:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
   65:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
  502:16  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios-vue.js
   20:7   warning  'toKebabCase' is assigned a value but never used  @typescript-eslint/no-unused-vars
   70:50  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
   79:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  104:48  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  115:16  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  126:39  warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  643:16  warning  'e' is defined but never used                     @typescript-eslint/no-unused-vars
  682:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/build/utils/axios.js
   51:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
   66:12  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars
  509:16  warning  'error' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/scripts/bump-version.js
   9:7   warning  '__dirname' is assigned a value but never used  @typescript-eslint/no-unused-vars
  58:12  warning  'error' is defined but never used               @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/resource-templates/index.ts
   34:7   warning  'resourceTemplateMap' is assigned a value but never used  @typescript-eslint/no-unused-vars
  172:26  error    Unexpected any. Specify a different type                  @typescript-eslint/no-explicit-any
  191:21  error    Unexpected any. Specify a different type                  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/handler.ts
   17:3   warning  'ErrorCode' is defined but never used      @typescript-eslint/no-unused-vars
   18:3   warning  'McpError' is defined but never used       @typescript-eslint/no-unused-vars
   23:24  warning  'tools' is defined but never used          @typescript-eslint/no-unused-vars
   47:11  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
   48:30  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  219:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  267:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  275:38  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  285:31  error    Unexpected any. Specify a different type   @typescript-eslint/no-explicit-any
  322:10  warning  'getToolSchema' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/sse.ts
   5:29  warning  'logWarning' is defined but never used    @typescript-eslint/no-unused-vars
  16:19  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  48:36  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  49:39  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/server/transport.ts
  91:33  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/api.ts
  31:7  warning  'ComponentInfoSchema' is assigned a value but only used as a type  @typescript-eslint/no-unused-vars
  43:7  warning  'ThemeSchema' is assigned a value but only used as a type          @typescript-eslint/no-unused-vars
  51:7  warning  'BlockSchema' is assigned a value but only used as a type          @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-react-native.ts
   25:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   42:30  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   56:12  warning  'error' is defined but never used                       @typescript-eslint/no-unused-vars
   90:22  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   91:19  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
   98:19  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  160:69  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  168:14  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  196:3   warning  'includeComponents' is assigned a value but never used  @typescript-eslint/no-unused-vars
  197:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  211:35  warning  'category' is defined but never used                    @typescript-eslint/no-unused-vars
  211:63  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  227:36  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  230:36  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  235:43  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  236:43  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  245:46  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  268:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any
  293:12  error    Unexpected any. Specify a different type                @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-svelte.ts
   53:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   69:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   87:53  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   94:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  184:69  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  189:59  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  197:48  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  228:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  267:38  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  303:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  314:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  340:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  465:66  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  499:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  502:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  519:92  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  546:18  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
  557:31  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  614:51  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  665:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  678:63  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  688:23  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  702:30  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  746:34  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  746:42  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  779:55  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  791:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  806:40  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  811:47  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  821:46  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  825:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios-vue.ts
   22:7   warning  'toKebabCase' is assigned a value but never used  @typescript-eslint/no-unused-vars
   78:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
   88:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  119:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  131:14  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  147:3   warning  'style' is assigned a value but never used        @typescript-eslint/no-unused-vars
  161:16  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  165:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  178:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  284:69  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  348:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  397:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  442:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  457:27  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  489:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  629:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  632:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  656:12  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  670:25  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  739:37  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  796:14  warning  'e' is defined but never used                     @typescript-eslint/no-unused-vars
  811:63  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  814:20  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  841:12  warning  'error' is defined but never used                 @typescript-eslint/no-unused-vars
  846:17  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  898:26  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  898:34  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  939:47  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  961:37  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  968:43  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  980:46  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any
  984:19  error    Unexpected any. Specify a different type          @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/axios.ts
   54:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   70:14  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
   89:28  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   90:25  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
   97:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  187:69  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  237:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  276:38  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  312:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  323:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  349:33  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  474:66  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  508:12  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  511:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  528:92  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  555:18  warning  'error' is defined but never used         @typescript-eslint/no-unused-vars
  566:31  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  623:51  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  674:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  687:63  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  697:23  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  711:30  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  755:34  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  755:42  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  788:55  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  800:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  815:40  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  820:47  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  830:46  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  834:21  error    Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/cache.ts
  13:42  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/logger.ts
  10:51  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/.mcp/shadcn-server/src/utils/validation.ts
   86:11  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  159:11  error  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/piotrromanczuk/Desktop/guitar-crm/__tests__/auth/credentials.test.ts
   90:16  error    Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong  @typescript-eslint/no-non-null-asserted-optional-chain
  139:13  warning  'user' is assigned a value but never used                                                                   @typescript-eslint/no-unused-vars
  174:13  warning  'user' is assigned a value but never used                                                                   @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/app/admin/users/page.tsx
  11:16  warning  Function 'UsersPage' has too many lines (179). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/dashboard/stats/route.ts
  8:8  warning  Async function 'GET' has too many lines (112). Maximum allowed is 80  max-lines-per-function
  8:8  warning  Async function 'GET' has a complexity of 21. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/admin-songs/route.ts
  4:8  warning  Async function 'GET' has a complexity of 12. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/bulk/route.ts
    9:8  warning  Async function 'POST' has too many lines (152). Maximum allowed is 80  max-lines-per-function
    9:8  warning  Async function 'POST' has a complexity of 19. Maximum allowed is 10    complexity
  114:6  warning  Blocks are nested too deeply (5). Maximum allowed is 4                 max-depth
  137:6  warning  Blocks are nested too deeply (5). Maximum allowed is 4                 max-depth

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/export/route.ts
  5:8  warning  Async function 'GET' has too many lines (112). Maximum allowed is 80  max-lines-per-function
  5:8  warning  Async function 'GET' has a complexity of 22. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/favorites/route.ts
  5:8  warning  Async function 'GET' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/search/route.ts
  6:8  warning  Async function 'GET' has a complexity of 17. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/stats/route.ts
  4:8  warning  Async function 'GET' has too many lines (113). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 21. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/student-songs/route.ts
  4:8  warning  Async function 'GET' has too many lines (83). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 14. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/user-songs/route.ts
  4:8  warning  Async function 'GET' has too many lines (201). Maximum allowed is 80  max-lines-per-function
  4:8  warning  Async function 'GET' has a complexity of 26. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/api/song/user-test-song/route.ts
  4:8  warning  Async function 'GET' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/app/sign-in/page.tsx
  3:10  warning  'useEffect' is defined but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/components/SupabaseTest.tsx
  7:16  warning  Function 'SupabaseTest' has too many lines (105). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/admin/UserForm.tsx
  19:8  warning  Function 'UserForm' has too many lines (92). Maximum allowed is 80  max-lines-per-function
  19:8  warning  Function 'UserForm' has a complexity of 15. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/AuthProvider.tsx
  26:8   warning  Function 'AuthProvider' has too many lines (143). Maximum allowed is 80  max-lines-per-function
  26:8   warning  Function 'AuthProvider' has a complexity of 27. Maximum allowed is 10    complexity
  91:32  warning  Async arrow function has a complexity of 13. Maximum allowed is 10       complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ForgotPasswordForm.tsx
  10:16  warning  Function 'ForgotPasswordForm' has too many lines (106). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ProtectedRoute.tsx
  79:0  error  Parsing error: '}' expected

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ResetPasswordForm.tsx
  10:16  warning  Function 'ResetPasswordForm' has too many lines (118). Maximum allowed is 80  max-lines-per-function
  10:16  warning  Function 'ResetPasswordForm' has a complexity of 11. Maximum allowed is 10    complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/useSignUpLogic.ts
  18:1  warning  Function 'getValidationError' has a complexity of 11. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongDetail.tsx
  16:16  warning  Function 'SongDetail' has too many lines (116). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongForm.Content.tsx
  15:16  warning  Function 'SongFormContent' has too many lines (86). Maximum allowed is 80  max-lines-per-function
  15:16  warning  Function 'SongFormContent' has a complexity of 17. Maximum allowed is 10   complexity

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/SongForm.Fields.tsx
  10:16  warning  Function 'SongFormFields' has too many lines (96). Maximum allowed is 80  max-lines-per-function

/Users/piotrromanczuk/Desktop/guitar-crm/components/songs/useSongList.ts
  27:41  warning  Async arrow function has a complexity of 15. Maximum allowed is 10  complexity

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/create-test-users.ts
  4:7  warning  'supabaseAnonKey' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-assignments.ts
  145:10  warning  'songsByLevel' is assigned a value but never used  @typescript-eslint/no-unused-vars

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-users-fixed.js
  2:26  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  3:16  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  4:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  5:14  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/piotrromanczuk/Desktop/guitar-crm/scripts/database/seed-users.js
  2:26  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  3:16  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  4:12  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports
  5:14  error  A `require()` style import is forbidden  @typescript-eslint/no-require-imports

/Users/piotrromanczuk/Desktop/guitar-crm/set_passwords_from_file.js
  52:11  warning  'err' is defined but never used  @typescript-eslint/no-unused-vars

‚úñ 211 problems (121 errors, 90 warnings)

[0;31m‚ùå ESLint errors found[0m

üß™ Running tests with coverage...

> guitar-crm@0.1.0 test
> jest --coverage --watchAll=false

FAIL __tests__/components/navigation/Header.test.tsx
  ‚óè Header ‚Ä∫ should render user email when authenticated

    TestingLibraryElementError: Unable to find an element with the text: test@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0müé∏ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      59 | 		render(<Header />);
      60 |
    > 61 | 		expect(screen.getByText('test@example.com')).toBeInTheDocument();
         | 		              ^
      62 | 	});
      63 |
      64 | 	it('should call signOut when sign out button is clicked', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/navigation/Header.test.tsx:61:17)

  ‚óè Header ‚Ä∫ should call signOut when sign out button is clicked

    TestingLibraryElementError: Unable to find an element with the text: Sign Out. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0müé∏ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      76 | 		render(<Header />);
      77 |
    > 78 | 		const signOutButton = screen.getByText('Sign Out');
         | 		                             ^
      79 | 		fireEvent.click(signOutButton);
      80 |
      81 | 		await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/navigation/Header.test.tsx:78:32)

  ‚óè Header ‚Ä∫ should show role badges for authenticated users

    TestingLibraryElementError: Unable to find an element with the text: /Admin|Teacher/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0müé∏ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      117 |
      118 | 		// Check for role badges (not navigation items)
    > 119 | 		const badges = screen.getAllByText(/Admin|Teacher/);
          | 		                      ^
      120 | 		expect(badges.length).toBeGreaterThan(0);
      121 | 		expect(screen.getByText('test@example.com')).toBeInTheDocument();
      122 | 	});

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByText (__tests__/components/navigation/Header.test.tsx:119:25)

  ‚óè Header ‚Ä∫ should not show sign in/up buttons when loading

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <button class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm">Sign In</button> instead

      135 | 		render(<Header />);
      136 |
    > 137 | 		expect(screen.queryByText('Sign In')).not.toBeInTheDocument();
          | 		                                          ^
      138 | 		expect(screen.queryByText('Sign Up')).not.toBeInTheDocument();
      139 | 	});
      140 | });

      at Object.toBeInTheDocument (__tests__/components/navigation/Header.test.tsx:137:45)

FAIL __tests__/components/songs/SongList.test.tsx
  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should render loading state initially

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:43:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should display error message on fetch failure

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:57:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should display error when user is not authenticated

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:85:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Empty State ‚Ä∫ should display empty state when no songs exist

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:103:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Teacher/Admin Role ‚Ä∫ should display songs for teacher users with correct endpoint

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:146:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Teacher/Admin Role ‚Ä∫ should display songs for admin users with correct endpoint

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:201:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Student Role ‚Ä∫ should display assigned songs with status for student users

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:269:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Level Filtering ‚Ä∫ should support level filtering in API call

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:324:4)

FAIL __tests__/components/auth/RequireRole.test.tsx
  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should render children when user is authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 | 			});
      41 |
    > 42 | 			render(
         | 			      ^
      43 | 				<RequireAuth>
      44 | 					<div>Protected Content</div>
      45 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:42:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should show loading state when auth is loading

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      58 | 			});
      59 |
    > 60 | 			render(
         | 			      ^
      61 | 				<RequireAuth>
      62 | 					<div>Protected Content</div>
      63 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:60:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should redirect to sign-in when user is not authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      76 | 			});
      77 |
    > 78 | 			render(
         | 			      ^
      79 | 				<RequireAuth>
      80 | 					<div>Protected Content</div>
      81 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:78:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should render children when user is admin

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

       96 | 			});
       97 |
    >  98 | 			render(
          | 			      ^
       99 | 				<RequireAdmin>
      100 | 					<div>Admin Content</div>
      101 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:98:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should redirect non-admin to home when authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      114 | 			});
      115 |
    > 116 | 			render(
          | 			      ^
      117 | 				<RequireAdmin>
      118 | 					<div>Admin Content</div>
      119 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:116:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should redirect to sign-in when not authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      133 | 			});
      134 |
    > 135 | 			render(
          | 			      ^
      136 | 				<RequireAdmin>
      137 | 					<div>Admin Content</div>
      138 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:135:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should show loading state while checking auth

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      151 | 			});
      152 |
    > 153 | 			render(
          | 			      ^
      154 | 				<RequireAdmin>
      155 | 					<div>Admin Content</div>
      156 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:153:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should render children when user is teacher

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      171 | 			});
      172 |
    > 173 | 			render(
          | 			      ^
      174 | 				<RequireTeacher>
      175 | 					<div>Teacher Content</div>
      176 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:173:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should allow admin access (admin can do everything)

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      189 | 			});
      190 |
    > 191 | 			render(
          | 			      ^
      192 | 				<RequireTeacher>
      193 | 					<div>Teacher Content</div>
      194 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:191:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should redirect non-teacher to home

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      207 | 			});
      208 |
    > 209 | 			render(
          | 			      ^
      210 | 				<RequireTeacher>
      211 | 					<div>Teacher Content</div>
      212 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:209:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should handle users with multiple roles (teacher + student)

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      225 | 			});
      226 |
    > 227 | 			render(
          | 			      ^
      228 | 				<RequireTeacher>
      229 | 					<div>Teacher Content</div>
      230 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:227:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should render children when user is student

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      245 | 			});
      246 |
    > 247 | 			render(
          | 			      ^
      248 | 				<RequireStudent>
      249 | 					<div>Student Content</div>
      250 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:247:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should allow admin access

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      263 | 			});
      264 |
    > 265 | 			render(
          | 			      ^
      266 | 				<RequireStudent>
      267 | 					<div>Student Content</div>
      268 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:265:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should redirect non-student to home

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      281 | 			});
      282 |
    > 283 | 			render(
          | 			      ^
      284 | 				<RequireStudent>
      285 | 					<div>Student Content</div>
      286 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:283:10)

  ‚óè Role-based Route Protection ‚Ä∫ Custom redirect paths ‚Ä∫ should support custom redirect path for RequireAdmin

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      301 | 			});
      302 |
    > 303 | 			render(
          | 			      ^
      304 | 				<RequireAdmin redirectTo='/unauthorized'>
      305 | 					<div>Admin Content</div>
      306 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:303:10)

  ‚óè Role-based Route Protection ‚Ä∫ Custom redirect paths ‚Ä∫ should support custom redirect for unauthenticated users

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      319 | 			});
      320 |
    > 321 | 			render(
          | 			      ^
      322 | 				<RequireAdmin redirectTo='/custom-login'>
      323 | 					<div>Admin Content</div>
      324 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:321:10)

  ‚óè Role-based Route Protection ‚Ä∫ Loading customization ‚Ä∫ should support custom loading component

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      339 | 			});
      340 |
    > 341 | 			render(
          | 			      ^
      342 | 				<RequireAuth loadingComponent={<div>Custom Loading...</div>}>
      343 | 					<div>Protected Content</div>
      344 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:341:10)

PASS __tests__/components/profile/ProfileFormFields.test.tsx
PASS __tests__/components/settings/SettingsComponents.test.tsx
PASS __tests__/components/settings/useSettings.test.tsx
  ‚óè Console

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Creating new browser client: { hasUrl: true, hasKey: true, url: 'http://127.0.0.1:54321' }

      at log (lib/supabase-browser.ts:16:10)

    console.log
      üü¢ Browser client created successfully

      at log (lib/supabase-browser.ts:29:10)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

PASS __tests__/components/admin/index.test.tsx
PASS __tests__/components/ui/Skeleton.test.tsx
PASS __tests__/api/song/handlers.test.ts
PASS __tests__/api/song/integration.test.ts
PASS __tests__/components/ui/Spinner.test.tsx
PASS __tests__/components/profile/ProfileComponents.test.tsx
PASS __tests__/schemas/SongSchema.test.ts
PASS __tests__/setup.test.ts
PASS __tests__/components/auth/SignUpForm.test.tsx
PASS __tests__/components/auth/ForgotPasswordForm.test.tsx
PASS __tests__/components/auth/ResetPasswordForm.test.tsx
PASS __tests__/components/auth/SignInForm.test.tsx
PASS __tests__/components/songs/SongForm.test.tsx
PASS __tests__/components/songs/SongDetail.test.tsx
  ‚óè Console

    console.error
      An update to SongDetail inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      34 |
      35 | 			if (fetchError || !data || data.length === 0) {
    > 36 | 				setError('Song not found');
         | 				^
      37 | 				return;
      38 | 			}
      39 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setError (components/songs/SongDetail.tsx:36:5)

    console.error
      An update to SongDetail inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      42 | 			setError('Failed to load song');
      43 | 		} finally {
    > 44 | 			setLoading(false);
         | 			^
      45 | 		}
      46 | 	}, [songId]);
      47 |

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setLoading (components/songs/SongDetail.tsx:44:4)

FAIL __tests__/components/auth/ProtectedRoute.test.tsx
  ‚óè Test suite failed to run

      [31mx[0m Expected '}', got '<eof>'
        ,-[[36;1;4m/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ProtectedRoute.tsx[0m:77:1]
     [2m74[0m |         return null;
     [2m75[0m |     }
     [2m76[0m | 
     [2m77[0m |     return <>{children}</>;
        : [35;1m                           ^[0m
     [2m78[0m | 
        `----


    Caused by:
        Syntax Error

      13 | // Mock next/navigation
      14 | jest.mock('next/navigation', () => ({
    > 15 | 	useRouter: jest.fn(),
         | 	                     ^
      16 | }));
      17 |
      18 | const mockUseAuth = useAuth as jest.MockedFunction<typeof useAuth>;

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1409:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1544:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)
      at Object.<anonymous> (__tests__/components/auth/ProtectedRoute.test.tsx:15:64)

FAIL __tests__/components/auth/AuthProvider.test.tsx (7.277 s)
  ‚óè Console

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Creating new browser client: { hasUrl: true, hasKey: true, url: 'http://127.0.0.1:54321' }

      at log (lib/supabase-browser.ts:16:10)

    console.log
      üü¢ Browser client created successfully

      at log (lib/supabase-browser.ts:29:10)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.error
      An update to AuthProvider inside a test was not wrapped in act(...).
      
      When testing, code that causes React state updates should be wrapped into act(...):
      
      act(() => {
        /* fire events that update state */
      });
      /* assert on the output */
      
      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      57 | 				setSession(session);
      58 | 				setUser(session?.user ?? null);
    > 59 | 				setLoading(false);
         | 				^
      60 | 				initialized = true;
      61 | 			}
      62 | 		});

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at Object.setLoading [as callback] (components/auth/AuthProvider.tsx:59:5)
      at node_modules/@supabase/auth-js/src/GoTrueClient.ts:2144:49
      at SupabaseAuthClient._useSession (node_modules/@supabase/auth-js/src/GoTrueClient.ts:1501:20)
      at SupabaseAuthClient._emitInitialSession (node_modules/@supabase/auth-js/src/GoTrueClient.ts:2136:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      ÔøΩ Auth state changed: {
        event: 'SIGNED_OUT',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)
          at Array.map (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      ÔøΩ Auth state changed: {
        event: 'INITIAL_SESSION',
        hasSession: false,
        hasUser: false,
        userId: undefined,
        email: undefined
      }

      at Object.log [as callback] (components/auth/AuthProvider.tsx:47:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: false,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)
          at Array.forEach (<anonymous>)

    console.log
      User metadata: undefined

      at log (components/auth/AuthProvider.tsx:152:10)

    console.log
      Profile roles from DB: null

      at log (components/auth/AuthProvider.tsx:153:10)

    console.log
      Computed roles: {
        isAdmin: false,
        isTeacher: false,
        isStudent: false,
        metaIsAdmin: false,
        metaIsTeacher: false,
        metaIsStudent: false
      }

      at log (components/auth/AuthProvider.tsx:169:10)

    console.log
      AuthContext value: {
        user: null,
        session: null,
        loading: true,
        signOut: [AsyncFunction: signOut],
        isAdmin: false,
        isTeacher: false,
        isStudent: false
      }

      at log (components/auth/AuthProvider.tsx:188:10)

    console.log
      üîµ AuthProvider: Initializing...

      at log (components/auth/AuthProvider.tsx:37:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üîµ AuthProvider: Supabase client created

      at log (components/auth/AuthProvider.tsx:39:11)

    console.log
      üîµ Returning existing browser client

      at log (lib/supabase-browser.ts:9:11)

    console.log
      üî¥ No user ID, skipping profile load

      at log (components/auth/AuthProvider.tsx:93:13)

    console.log
      üîµ AuthProvider: Cleaning up...

      at log (components/auth/AuthProvider.tsx:81:12)

    console.log
      ÔøΩ getSession() result: { hasSession: false, hasUser: false, userId: undefined }

      at log (components/auth/AuthProvider.tsx:66:12)

  ‚óè AuthProvider ‚Ä∫ Initialization ‚Ä∫ should load existing session on mount

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

      70 | 			});
      71 |
    > 72 | 			expect(result.current.user).toEqual(mockSession.user);
         | 			                            ^
      73 | 			expect(result.current.session).toEqual(mockSession);
      74 | 		});
      75 |

      at Object.toEqual (__tests__/components/auth/AuthProvider.test.tsx:72:32)

  ‚óè AuthProvider ‚Ä∫ Initialization ‚Ä∫ should set up auth state change listener

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      82 | 			renderHook(() => useAuth(), { wrapper });
      83 |
    > 84 | 			expect(supabase.auth.onAuthStateChange).toHaveBeenCalled();
         | 			                                        ^
      85 | 		});
      86 | 	});
      87 |

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:84:44)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should update state when user signs in

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

      115 | 			});
      116 |
    > 117 | 			expect(result.current.user).toEqual(mockSession.user);
          | 			                            ^
      118 | 			expect(result.current.session).toEqual(mockSession);
      119 | 		});
      120 |

      at Object.toEqual (__tests__/components/auth/AuthProvider.test.tsx:117:32)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should update state when user signs out

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      140 |
      141 | 			await waitFor(() => {
    > 142 | 				expect(result.current.user).toEqual(mockSession.user);
          | 				                            ^
      143 | 			});
      144 |
      145 | 			act(() => {

      at toEqual (__tests__/components/auth/AuthProvider.test.tsx:142:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should handle token refresh

    expect(received).toBe(expected) // Object.is equality

    Expected: "old_token"
    Received: undefined

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      176 |
      177 | 			await waitFor(() => {
    > 178 | 				expect(result.current.session?.access_token).toBe('old_token');
          | 				                                             ^
      179 | 			});
      180 |
      181 | 			act(() => {

      at toBe (__tests__/components/auth/AuthProvider.test.tsx:178:50)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Sign Out ‚Ä∫ should call supabase signOut when signOut is called

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      207 | 			});
      208 |
    > 209 | 			expect(supabase.auth.signOut).toHaveBeenCalled();
          | 			                              ^
      210 | 		});
      211 |
      212 | 		it('should clear user state after sign out', async () => {

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:209:34)

  ‚óè AuthProvider ‚Ä∫ Sign Out ‚Ä∫ should clear user state after sign out

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      234 |
      235 | 			await waitFor(() => {
    > 236 | 				expect(result.current.user).toEqual(mockSession.user);
          | 				                            ^
      237 | 			});
      238 |
      239 | 			await act(async () => {

      at toEqual (__tests__/components/auth/AuthProvider.test.tsx:236:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify admin users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      273 | 			});
      274 |
    > 275 | 			expect(result.current.isAdmin).toBe(true);
          | 			                               ^
      276 | 		});
      277 |
      278 | 		it('should correctly identify teacher users', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:275:35)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify teacher users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      297 | 			});
      298 |
    > 299 | 			expect(result.current.isTeacher).toBe(true);
          | 			                                 ^
      300 | 		});
      301 |
      302 | 		it('should correctly identify student users', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:299:37)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify student users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      321 | 			});
      322 |
    > 323 | 			expect(result.current.isStudent).toBe(true);
          | 			                                 ^
      324 | 		});
      325 |
      326 | 		it('should handle users with multiple roles', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:323:37)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should handle users with multiple roles

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      349 | 			});
      350 |
    > 351 | 			expect(result.current.isTeacher).toBe(true);
          | 			                                 ^
      352 | 			expect(result.current.isStudent).toBe(true);
      353 | 			expect(result.current.isAdmin).toBe(false);
      354 | 		});

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:351:37)

  ‚óè AuthProvider ‚Ä∫ Cleanup ‚Ä∫ should unsubscribe from auth state changes on unmount

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      370 | 			unmount();
      371 |
    > 372 | 			expect(unsubscribeMock).toHaveBeenCalled();
          | 			                        ^
      373 | 		});
      374 | 	});
      375 | });

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:372:28)

--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
File                                                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                       
--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
All files                                               |   12.13 |    48.49 |   28.97 |   12.13 |                                                                         
 guitar-crm                                             |    0.69 |        0 |       0 |    0.69 |                                                                         
  cypress.config.ts                                     |       0 |        0 |       0 |       0 | 1-19                                                                    
  jest.config.simple.ts                                 |       0 |        0 |       0 |       0 | 1-47                                                                    
  jest.config.ts                                        |       0 |        0 |       0 |       0 | 1-79                                                                    
  middleware.ts                                         |    1.31 |        0 |       0 |    1.31 | 1-75                                                                    
  next.config.ts                                        |       0 |        0 |       0 |       0 | 1-7                                                                     
  set_passwords_from_file.js                            |    1.06 |        0 |       0 |    1.06 | 1-93                                                                    
  show-lighthouse-results.js                            |    0.91 |        0 |       0 |    0.91 | 1-108                                                                   
 guitar-crm/.mcp/shadcn-server/build                    |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-7                                                                     
 guitar-crm/.mcp/shadcn-server/build/cli                |       0 |        0 |       0 |       0 |                                                                         
  args.js                                               |       0 |        0 |       0 |       0 | 1-44                                                                    
 guitar-crm/.mcp/shadcn-server/build/prompts            |       0 |        0 |       0 |       0 |                                                                         
  helpers.js                                            |       0 |        0 |       0 |       0 | 1-118                                                                   
  index.js                                              |       0 |        0 |       0 |       0 | 1-440                                                                   
 guitar-crm/.mcp/shadcn-server/build/resource-templates |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-634                                                                   
 guitar-crm/.mcp/shadcn-server/build/resources          |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-98                                                                    
 guitar-crm/.mcp/shadcn-server/build/schemas            |       0 |        0 |       0 |       0 |                                                                         
  component.js                                          |       0 |        0 |       0 |       0 | 1                                                                       
 guitar-crm/.mcp/shadcn-server/build/server             |       0 |        0 |       0 |       0 |                                                                         
  capabilities.js                                       |       0 |        0 |       0 |       0 | 1-171                                                                   
  createServer.js                                       |       0 |        0 |       0 |       0 | 1-10                                                                    
  handler.js                                            |       0 |        0 |       0 |       0 | 1-270                                                                   
  index.js                                              |       0 |        0 |       0 |       0 | 1-54                                                                    
  sse.js                                                |       0 |        0 |       0 |       0 | 1-157                                                                   
  transport.js                                          |       0 |        0 |       0 |       0 | 1-98                                                                    
  version.js                                            |       0 |        0 |       0 |       0 | 1-25                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools              |       0 |        0 |       0 |       0 |                                                                         
  index.js                                              |       0 |        0 |       0 |       0 | 1-94                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/blocks       |       0 |        0 |       0 |       0 |                                                                         
  get-block.js                                          |       0 |        0 |       0 |       0 | 1-36                                                                    
  list-blocks.js                                        |       0 |        0 |       0 |       0 | 1-42                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/components   |       0 |        0 |       0 |       0 |                                                                         
  get-component-demo.js                                 |       0 |        0 |       0 |       0 | 1-21                                                                    
  get-component-metadata.js                             |       0 |        0 |       0 |       0 | 1-24                                                                    
  get-component.js                                      |       0 |        0 |       0 |       0 | 1-21                                                                    
  list-components.js                                    |       0 |        0 |       0 |       0 | 1-22                                                                    
 guitar-crm/.mcp/shadcn-server/build/tools/repository   |       0 |        0 |       0 |       0 |                                                                         
  get-directory-structure.js                            |       0 |        0 |       0 |       0 | 1-38                                                                    
 guitar-crm/.mcp/shadcn-server/build/utils              |       0 |        0 |       0 |       0 |                                                                         
  api.js                                                |       0 |        0 |       0 |       0 | 1-52                                                                    
  axios-react-native.js                                 |       0 |        0 |       0 |       0 | 1-264                                                                   
  axios-svelte.js                                       |       0 |        0 |       0 |       0 | 1-785                                                                   
  axios-vue.js                                          |       0 |        0 |       0 |       0 | 1-844                                                                   
  axios.js                                              |       0 |        0 |       0 |       0 | 1-793                                                                   
  cache.js                                              |       0 |        0 |       0 |       0 | 1-146                                                                   
  circuit-breaker.js                                    |       0 |        0 |       0 |       0 | 1-112                                                                   
  framework.js                                          |       0 |        0 |       0 |       0 | 1-129                                                                   
  logger.js                                             |       0 |        0 |       0 |       0 | 1-27                                                                    
  validation.js                                         |       0 |        0 |       0 |       0 | 1-137                                                                   
 guitar-crm/.mcp/shadcn-server/scripts                  |    1.26 |        0 |       0 |    1.26 |                                                                         
  bump-version.js                                       |    1.26 |        0 |       0 |    1.26 | 1-78                                                                    
 guitar-crm/.mcp/shadcn-server/src                      |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-8                                                                     
 guitar-crm/.mcp/shadcn-server/src/cli                  |       0 |        0 |       0 |       0 |                                                                         
  args.ts                                               |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/prompts              |       0 |        0 |       0 |       0 |                                                                         
  helpers.ts                                            |       0 |        0 |       0 |       0 | 1-140                                                                   
  index.ts                                              |       0 |        0 |       0 |       0 | 1-527                                                                   
 guitar-crm/.mcp/shadcn-server/src/resource-templates   |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-687                                                                   
 guitar-crm/.mcp/shadcn-server/src/resources            |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-102                                                                   
 guitar-crm/.mcp/shadcn-server/src/schemas              |       0 |        0 |       0 |       0 |                                                                         
  component.ts                                          |       0 |        0 |       0 |       0 | 1-37                                                                    
 guitar-crm/.mcp/shadcn-server/src/server               |       0 |        0 |       0 |       0 |                                                                         
  capabilities.ts                                       |       0 |        0 |       0 |       0 | 1-187                                                                   
  createServer.ts                                       |       0 |        0 |       0 |       0 | 1-14                                                                    
  handler.ts                                            |       0 |        0 |       0 |       0 | 1-351                                                                   
  index.ts                                              |       0 |        0 |       0 |       0 | 1-68                                                                    
  sse.ts                                                |       0 |        0 |       0 |       0 | 1-189                                                                   
  transport.ts                                          |       0 |        0 |       0 |       0 | 1-117                                                                   
  version.ts                                            |       0 |        0 |       0 |       0 | 1-27                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools                |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-98                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/blocks         |       0 |        0 |       0 |       0 |                                                                         
  get-block.ts                                          |       0 |        0 |       0 |       0 | 1-51                                                                    
  list-blocks.ts                                        |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/components     |       0 |        0 |       0 |       0 |                                                                         
  get-component-demo.ts                                 |       0 |        0 |       0 |       0 | 1-22                                                                    
  get-component-metadata.ts                             |       0 |        0 |       0 |       0 | 1-25                                                                    
  get-component.ts                                      |       0 |        0 |       0 |       0 | 1-22                                                                    
  list-components.ts                                    |       0 |        0 |       0 |       0 | 1-23                                                                    
 guitar-crm/.mcp/shadcn-server/src/tools/repository     |       0 |        0 |       0 |       0 |                                                                         
  get-directory-structure.ts                            |       0 |        0 |       0 |       0 | 1-55                                                                    
 guitar-crm/.mcp/shadcn-server/src/utils                |     0.1 |        0 |       0 |     0.1 |                                                                         
  api.ts                                                |       0 |        0 |       0 |       0 | 1-65                                                                    
  axios-react-native.ts                                 |       0 |        0 |       0 |       0 | 1-319                                                                   
  axios-svelte.ts                                       |    0.11 |        0 |       0 |    0.11 | 1-857                                                                   
  axios-vue.ts                                          |    0.09 |        0 |       0 |    0.09 | 1-1020                                                                  
  axios.ts                                              |    0.11 |        0 |       0 |    0.11 | 1-867                                                                   
  cache.ts                                              |       0 |        0 |       0 |       0 | 1-179                                                                   
  circuit-breaker.ts                                    |       0 |        0 |       0 |       0 | 1-133                                                                   
  framework.ts                                          |       0 |        0 |       0 |       0 | 1-158                                                                   
  logger.ts                                             |     2.7 |        0 |       0 |     2.7 | 1-36                                                                    
  validation.ts                                         |       0 |        0 |       0 |       0 | 1-169                                                                   
 guitar-crm/__tests__/auth                              |       0 |        0 |       0 |       0 |                                                                         
  credentials.test.ts                                   |       0 |        0 |       0 |       0 | 1-211                                                                   
 guitar-crm/__tests__/database                          |       0 |        0 |       0 |       0 |                                                                         
  user-seeding.test.ts                                  |       0 |        0 |       0 |       0 | 1-127                                                                   
 guitar-crm/app                                         |       0 |        0 |       0 |       0 |                                                                         
  layout.tsx                                            |       0 |        0 |       0 |       0 | 1-52                                                                    
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-21                                                                    
 guitar-crm/app/admin                                   |    0.34 |        0 |       0 |    0.34 |                                                                         
  page.tsx                                              |    0.34 |        0 |       0 |    0.34 | 1-289                                                                   
 guitar-crm/app/admin/users                             |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-215                                                                   
 guitar-crm/app/api/admin/set-passwords                 |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-83                                                                    
 guitar-crm/app/api/dashboard/stats                     |    0.71 |        0 |       0 |    0.71 |                                                                         
  route.ts                                              |    0.71 |        0 |       0 |    0.71 | 1-138                                                                   
 guitar-crm/app/api/song                                |   43.14 |    79.16 |   88.88 |   43.14 |                                                                         
  handlers.ts                                           |   96.74 |    80.85 |     100 |   96.74 | 163-164,175-176,212-213,217-218                                         
  route.ts                                              |    0.32 |        0 |       0 |    0.32 | 1-307                                                                   
 guitar-crm/app/api/song/[id]                           |       2 |        0 |       0 |       2 |                                                                         
  route.ts                                              |       2 |        0 |       0 |       2 | 1-49                                                                    
 guitar-crm/app/api/song/admin-favorites                |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-42                                                                    
 guitar-crm/app/api/song/admin-songs                    |    1.31 |        0 |       0 |    1.31 |                                                                         
  route.ts                                              |    1.31 |        0 |       0 |    1.31 | 1-75                                                                    
 guitar-crm/app/api/song/bulk                           |    0.42 |        0 |       0 |    0.42 |                                                                         
  route.ts                                              |    0.42 |        0 |       0 |    0.42 | 1-237                                                                   
 guitar-crm/app/api/song/create                         |    1.47 |        0 |       0 |    1.47 |                                                                         
  route.ts                                              |    1.47 |        0 |       0 |    1.47 | 1-67                                                                    
 guitar-crm/app/api/song/export                         |     0.7 |        0 |       0 |     0.7 |                                                                         
  route.ts                                              |     0.7 |        0 |       0 |     0.7 | 1-140                                                                   
 guitar-crm/app/api/song/favorites                      |    0.46 |        0 |       0 |    0.46 |                                                                         
  route.ts                                              |    0.46 |        0 |       0 |    0.46 | 1-216                                                                   
 guitar-crm/app/api/song/search                         |    1.03 |        0 |       0 |    1.03 |                                                                         
  route.ts                                              |    1.03 |        0 |       0 |    1.03 | 1-96                                                                    
 guitar-crm/app/api/song/stats                          |     0.7 |        0 |       0 |     0.7 |                                                                         
  route.ts                                              |     0.7 |        0 |       0 |     0.7 | 1-140                                                                   
 guitar-crm/app/api/song/student-songs                  |     0.9 |        0 |       0 |     0.9 |                                                                         
  route.ts                                              |     0.9 |        0 |       0 |     0.9 | 1-110                                                                   
 guitar-crm/app/api/song/update                         |    1.42 |        0 |       0 |    1.42 |                                                                         
  route.ts                                              |    1.42 |        0 |       0 |    1.42 | 1-69                                                                    
 guitar-crm/app/api/song/user-songs                     |    0.45 |        0 |       0 |    0.45 |                                                                         
  route.ts                                              |    0.45 |        0 |       0 |    0.45 | 1-218                                                                   
 guitar-crm/app/api/song/user-test-song                 |       0 |        0 |       0 |       0 |                                                                         
  route.ts                                              |       0 |        0 |       0 |       0 | 1-82                                                                    
 guitar-crm/app/debug-auth                              |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-174                                                                   
 guitar-crm/app/forgot-password                         |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-21                                                                    
 guitar-crm/app/profile                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-57                                                                    
 guitar-crm/app/settings                                |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-165                                                                   
 guitar-crm/app/sign-in                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-29                                                                    
 guitar-crm/app/sign-up                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-44                                                                    
 guitar-crm/app/songs                                   |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-15                                                                    
 guitar-crm/app/songs/[id]                              |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-18                                                                    
 guitar-crm/app/songs/[id]/edit                         |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-18                                                                    
 guitar-crm/app/songs/new                               |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-12                                                                    
 guitar-crm/app/student                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-33                                                                    
 guitar-crm/app/teacher                                 |       0 |        0 |       0 |       0 |                                                                         
  page.tsx                                              |       0 |        0 |       0 |       0 | 1-37                                                                    
 guitar-crm/components                                  |       0 |        0 |       0 |       0 |                                                                         
  SupabaseTest.tsx                                      |       0 |        0 |       0 |       0 | 1-119                                                                   
 guitar-crm/components/admin                            |   23.46 |        0 |       0 |   23.46 |                                                                         
  AdminActionCard.tsx                                   |   19.35 |      100 |       0 |   19.35 | 13-62                                                                   
  AdminStatCard.tsx                                     |   36.84 |      100 |       0 |   36.84 | 8-19                                                                    
  UserCard.tsx                                          |   17.21 |      100 |       0 |   17.21 | 16-19,22-32,35-40,43-122                                                
  UserForm.Actions.tsx                                  |   32.25 |      100 |       0 |   32.25 | 11-31                                                                   
  UserForm.CheckboxInput.tsx                            |   30.76 |      100 |       0 |   30.76 | 13-39                                                                   
  UserForm.Header.tsx                                   |   25.64 |      100 |       0 |   25.64 | 11-39                                                                   
  UserForm.RoleSection.tsx                              |   19.67 |      100 |       0 |   19.67 | 13-61                                                                   
  UserForm.TextInput.tsx                                |   36.58 |      100 |       0 |   36.58 | 16-41                                                                   
  UserForm.helpers.ts                                   |   56.25 |      100 |       0 |   56.25 | 14-21,24-29                                                             
  UserForm.tsx                                          |   15.83 |      100 |       0 |   15.83 | 20-120                                                                  
  UserList.helpers.ts                                   |       0 |        0 |       0 |       0 | 1-9                                                                     
  UserList.tsx                                          |   20.93 |      100 |       0 |   20.93 | 26-78,81-129                                                            
  UserListEmptyState.tsx                                |   33.33 |      100 |       0 |   33.33 | 8-21                                                                    
  UserListLoadingState.tsx                              |   17.24 |      100 |       0 |   17.24 | 6-29                                                                    
  UserTableRow.tsx                                      |   20.79 |      100 |       0 |   20.79 | 16-19,22-32,35-40,43-101                                                
  index.ts                                              |     100 |      100 |     100 |     100 |                                                                         
 guitar-crm/components/auth                             |   76.05 |    75.25 |   94.44 |   76.05 |                                                                         
  AuthContext.tsx                                       |       0 |        0 |       0 |       0 | 1                                                                       
  AuthProvider.tsx                                      |    80.4 |    26.66 |     100 |    80.4 | 73-77,97-111,113-118,122-132,196-197                                    
  ForgotPasswordForm.tsx                                |   96.92 |    89.47 |     100 |   96.92 | 34-35,57-58                                                             
  ProtectedRoute.tsx                                    |       0 |        0 |       0 |       0 | 1-77                                                                    
  RequireRole.tsx                                       |       0 |        0 |       0 |       0 | 1-179                                                                   
  ResetPasswordForm.tsx                                 |   94.44 |    92.85 |     100 |   94.44 | 47-48,63-66,81-82                                                       
  SignInForm.tsx                                        |   97.72 |    91.42 |     100 |   97.72 | 98,161-162,185-186                                                      
  SignUpForm.tsx                                        |     100 |      100 |     100 |     100 |                                                                         
  index.ts                                              |     100 |      100 |     100 |     100 |                                                                         
  useSignUpLogic.ts                                     |   97.31 |    86.66 |     100 |   97.31 | 62-63,98-99                                                             
 guitar-crm/components/dashboard                        |       0 |        0 |       0 |       0 |                                                                         
  Dashboard.tsx                                         |       0 |        0 |       0 |       0 | 1-35                                                                    
  DashboardCard.tsx                                     |       0 |        0 |       0 |       0 | 1-31                                                                    
  DashboardCardGrid.tsx                                 |       0 |        0 |       0 |       0 | 1-70                                                                    
  DashboardHeader.tsx                                   |       0 |        0 |       0 |       0 | 1-25                                                                    
 guitar-crm/components/home                             |       0 |        0 |       0 |       0 |                                                                         
  FeaturesSection.tsx                                   |       0 |        0 |       0 |       0 | 1-57                                                                    
  LandingHeader.tsx                                     |       0 |        0 |       0 |       0 | 1-50                                                                    
  LandingPage.tsx                                       |       0 |        0 |       0 |       0 | 1-18                                                                    
  LoadingScreen.tsx                                     |       0 |        0 |       0 |       0 | 1-9                                                                     
  QuickActionButton.tsx                                 |       0 |        0 |       0 |       0 | 1-20                                                                    
  QuickActionsSection.tsx                               |       0 |        0 |       0 |       0 | 1-43                                                                    
  index.ts                                              |       0 |        0 |       0 |       0 | 1-6                                                                     
 guitar-crm/components/navigation                       |   66.66 |    46.15 |      40 |   66.66 |                                                                         
  Header.tsx                                            |   83.39 |    46.15 |   46.15 |   83.39 | 28-34,47-61,81-100,159-160,212-214                                      
  RoleBasedNav.tsx                                      |   15.21 |      100 |       0 |   15.21 | 13-30,33-92                                                             
 guitar-crm/components/profile                          |   58.66 |    85.71 |    62.5 |   58.66 |                                                                         
  ProfileComponents.tsx                                 |     100 |      100 |     100 |     100 |                                                                         
  ProfileForm.tsx                                       |       0 |        0 |       0 |       0 | 1-32                                                                    
  ProfileFormFields.tsx                                 |     100 |     90.9 |      60 |     100 | 82                                                                      
  useProfileData.ts                                     |     0.8 |        0 |       0 |     0.8 | 1-123                                                                   
 guitar-crm/components/settings                         |   60.41 |    65.21 |   94.44 |   60.41 |                                                                         
  SettingsComponents.tsx                                |     100 |       70 |     100 |     100 | 84-91                                                                   
  SettingsSections.tsx                                  |       0 |        0 |       0 |       0 | 1-151                                                                   
  useSettings.ts                                        |   96.84 |    66.66 |     100 |   96.84 | 39,66-67                                                                
 guitar-crm/components/songs                            |   59.56 |    65.78 |   41.17 |   59.56 |                                                                         
  SongDetail.tsx                                        |   77.85 |     37.5 |   33.33 |   77.85 | 39-42,53-80,85                                                          
  SongForm.Content.tsx                                  |   51.35 |    92.85 |   33.33 |   51.35 | 31-40,43-86                                                             
  SongForm.FieldSelect.tsx                              |     100 |    66.66 |      50 |     100 | 36                                                                      
  SongForm.FieldText.tsx                                |     100 |       50 |      50 |     100 | 35                                                                      
  SongForm.Fields.tsx                                   |     100 |      100 |    12.5 |     100 |                                                                         
  SongForm.tsx                                          |     100 |      100 |     100 |     100 |                                                                         
  SongFormGuard.tsx                                     |       0 |        0 |       0 |       0 | 1-44                                                                    
  SongList.Empty.tsx                                    |   21.42 |      100 |       0 |   21.42 | 4-14                                                                    
  SongList.Filter.tsx                                   |      24 |      100 |       0 |      24 | 7-25                                                                    
  SongList.Header.tsx                                   |   27.27 |      100 |       0 |   27.27 | 7-22                                                                    
  SongList.Table.tsx                                    |      20 |      100 |       0 |      20 | 11-50                                                                   
  SongList.tsx                                          |   60.71 |       50 |     100 |   60.71 | 14-24                                                                   
  index.ts                                              |       0 |        0 |       0 |       0 | 1-17                                                                    
  useSong.ts                                            |       0 |        0 |       0 |       0 | 1-46                                                                    
  useSongList.ts                                        |   56.31 |       50 |     100 |   56.31 | 28-71,85                                                                
 guitar-crm/components/songs/SongDetail                 |       0 |        0 |       0 |       0 |                                                                         
  Actions.tsx                                           |       0 |        0 |       0 |       0 | 1-40                                                                    
  Header.tsx                                            |       0 |        0 |       0 |       0 | 1-13                                                                    
  Info.tsx                                              |       0 |        0 |       0 |       0 | 1-40                                                                    
  index.tsx                                             |       0 |        0 |       0 |       0 | 1-48                                                                    
  useSongDetail.ts                                      |       0 |        0 |       0 |       0 | 1-79                                                                    
 guitar-crm/components/songs/SongForm                   |       0 |        0 |       0 |       0 |                                                                         
  Content.tsx                                           |       0 |        0 |       0 |       0 | 1-93                                                                    
  FieldSelect.tsx                                       |       0 |        0 |       0 |       0 | 1-48                                                                    
  FieldText.tsx                                         |       0 |        0 |       0 |       0 | 1-41                                                                    
  Fields.tsx                                            |       0 |        0 |       0 |       0 | 1-83                                                                    
  helpers.ts                                            |       0 |        0 |       0 |       0 | 1-59                                                                    
  index.tsx                                             |       0 |        0 |       0 |       0 | 1-22                                                                    
  options.ts                                            |       0 |        0 |       0 |       0 | 1-38                                                                    
 guitar-crm/components/songs/SongList                   |       0 |        0 |       0 |       0 |                                                                         
  Empty.tsx                                             |       0 |        0 |       0 |       0 | 1-14                                                                    
  Filter.tsx                                            |       0 |        0 |       0 |       0 | 1-34                                                                    
  Header.tsx                                            |       0 |        0 |       0 |       0 | 1-22                                                                    
  Table.tsx                                             |       0 |        0 |       0 |       0 | 1-48                                                                    
  index.tsx                                             |       0 |        0 |       0 |       0 | 1-28                                                                    
 guitar-crm/components/songs/hooks                      |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-2                                                                     
  useSong.ts                                            |       0 |        0 |       0 |       0 | 1-46                                                                    
  useSongList.helpers.ts                                |       0 |        0 |       0 |       0 | 1-29                                                                    
  useSongList.ts                                        |       0 |        0 |       0 |       0 | 1-58                                                                    
 guitar-crm/components/songs/types                      |       0 |        0 |       0 |       0 |                                                                         
  index.ts                                              |       0 |        0 |       0 |       0 | 1-29                                                                    
 guitar-crm/components/student                          |    0.72 |        0 |       0 |    0.72 |                                                                         
  StudentDashboardStats.tsx                             |    1.26 |        0 |       0 |    1.26 | 1-78                                                                    
  StudentProgressOverview.tsx                           |       0 |        0 |       0 |       0 | 1-20                                                                    
  StudentRecentLessons.tsx                              |       0 |        0 |       0 |       0 | 1-19                                                                    
  StudentUpcomingLessons.tsx                            |       0 |        0 |       0 |       0 | 1-19                                                                    
 guitar-crm/components/teacher                          |    0.73 |        0 |       0 |    0.73 |                                                                         
  TeacherDashboardStats.tsx                             |    1.26 |        0 |       0 |    1.26 | 1-78                                                                    
  TeacherLessonSchedule.tsx                             |       0 |        0 |       0 |       0 | 1-19                                                                    
  TeacherRecentLessons.tsx                              |       0 |        0 |       0 |       0 | 1-19                                                                    
  TeacherStudentsList.tsx                               |       0 |        0 |       0 |       0 | 1-19                                                                    
 guitar-crm/components/ui                               |   49.89 |    83.33 |      20 |   49.89 |                                                                         
  avatar.tsx                                            |   20.75 |      100 |       0 |   20.75 | 8-22,24-35,37-51                                                        
  badge.tsx                                             |   63.04 |      100 |       0 |   63.04 | 28-44                                                                   
  button.tsx                                            |     100 |       50 |     100 |     100 | 49                                                                      
  card.tsx                                              |   21.73 |      100 |       0 |   21.73 | 5-16,18-29,31-39,41-49,51-62,64-72,74-82                                
  checkbox.tsx                                          |   31.25 |      100 |       0 |   31.25 | 9-30                                                                    
  input.tsx                                             |     100 |      100 |     100 |     100 |                                                                         
  label.tsx                                             |     100 |      100 |     100 |     100 |                                                                         
  skeleton.tsx                                          |     100 |      100 |     100 |     100 |                                                                         
  spinner.tsx                                           |     100 |      100 |     100 |     100 |                                                                         
  table.tsx                                             |   20.68 |      100 |       0 |   20.68 | 7-20,22-30,32-40,42-53,55-66,68-79,81-92,94-105                         
 guitar-crm/cypress/e2e                                 |       0 |        0 |       0 |       0 |                                                                         
  auth.cy.ts                                            |       0 |        0 |       0 |       0 | 1-247                                                                   
  smoke.cy.ts                                           |       0 |        0 |       0 |       0 | 1-7                                                                     
 guitar-crm/cypress/support                             |       0 |        0 |       0 |       0 |                                                                         
  e2e.ts                                                |       0 |        0 |       0 |       0 | 1-23                                                                    
 guitar-crm/lib                                         |    9.73 |    55.55 |      40 |    9.73 |                                                                         
  getUserWithRolesSSR.ts                                |       0 |        0 |       0 |       0 | 1-87                                                                    
  logging.ts                                            |     0.5 |        0 |       0 |     0.5 | 1-196                                                                   
  supabase-browser.ts                                   |   90.62 |       80 |     100 |   90.62 | 23-25                                                                   
  supabase.ts                                           |    1.72 |        0 |       0 |    1.72 | 1-57                                                                    
  utils.ts                                              |     100 |      100 |     100 |     100 |                                                                         
 guitar-crm/lib/hooks                                   |       0 |        0 |       0 |       0 |                                                                         
  useClickTracking.ts                                   |       0 |        0 |       0 |       0 | 1-45                                                                    
 guitar-crm/schemas                                     |   41.09 |        0 |       0 |   41.09 |                                                                         
  ActivityLogSchema.ts                                  |       0 |        0 |       0 |       0 | 1-114                                                                   
  AssignmentSchema.ts                                   |       0 |        0 |       0 |       0 | 1-95                                                                    
  CommonSchema.ts                                       |   77.71 |      100 |       0 |   77.71 | 105-111,114-120,123-129,132-138,142-143,146-147,150-151,155-156,159-161 
  LessonSchema.ts                                       |       0 |        0 |       0 |       0 | 1-83                                                                    
  ProfileSchema.ts                                      |       0 |        0 |       0 |       0 | 1-15                                                                    
  SettingsSchema.ts                                     |       0 |        0 |       0 |       0 | 1-26                                                                    
  SongSchema.ts                                         |     100 |      100 |     100 |     100 |                                                                         
  TaskSchema.ts                                         |       0 |        0 |       0 |       0 | 1-108                                                                   
  UserFavoriteSchema.ts                                 |       0 |        0 |       0 |       0 | 1-50                                                                    
  UserSchema.ts                                         |   86.57 |      100 |       0 |   86.57 | 114-117,121-136                                                         
  contactFormSchema.ts                                  |       0 |        0 |       0 |       0 | 1-10                                                                    
  index.ts                                              |       0 |        0 |       0 |       0 | 1-9                                                                     
 guitar-crm/scripts                                     |    1.38 |        0 |       0 |    1.38 |                                                                         
  import-json-to-db.js                                  |    1.38 |        0 |       0 |    1.38 | 1-71                                                                    
 guitar-crm/scripts/database                            |     0.5 |        0 |       0 |     0.5 |                                                                         
  create-test-users.ts                                  |    1.02 |        0 |       0 |    1.02 | 1-97                                                                    
  seed-assignments.ts                                   |    0.41 |        0 |       0 |    0.41 | 1-239                                                                   
  seed-dev-users.ts                                     |    0.38 |        0 |       0 |    0.38 | 1-259                                                                   
  seed-test-lesson-songs.ts                             |    0.47 |        0 |       0 |    0.47 | 1-209                                                                   
  seed-test-lessons.ts                                  |    0.54 |        0 |       0 |    0.54 | 1-184                                                                   
  seed-test-songs.ts                                    |    0.41 |        0 |       0 |    0.41 | 1-238                                                                   
  seed-test-user.ts                                     |    0.76 |        0 |       0 |    0.76 | 1-129                                                                   
  seed-users-fixed.js                                   |    0.47 |        0 |       0 |    0.47 | 1-210                                                                   
  seed-users.js                                         |    0.48 |        0 |       0 |    0.48 | 1-204                                                                   
 guitar-crm/types                                       |       0 |        0 |       0 |       0 |                                                                         
  FavoritesSong.ts                                      |       0 |        0 |       0 |       0 | 1-8                                                                     
  Lesson.ts                                             |       0 |        0 |       0 |       0 | 1-19                                                                    
  LessonSongs.ts                                        |       0 |        0 |       0 |       0 | 1-19                                                                    
  Song.ts                                               |       0 |        0 |       0 |       0 | 1-19                                                                    
  User.ts                                               |       0 |        0 |       0 |       0 | 1-16                                                                    
  auth.ts                                               |       0 |        0 |       0 |       0 | 1-35                                                                    
  database.types.generated.ts                           |       0 |        0 |       0 |       0 | 1-564                                                                   
  database.types.ts                                     |       0 |        0 |       0 |       0 | 1-400                                                                   
 guitar-crm/utils/supabase/clients                      |       0 |        0 |       0 |       0 |                                                                         
  server.ts                                             |       0 |        0 |       0 |       0 | 1-19                                                                    
--------------------------------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------
Jest: "global" coverage threshold for statements (70%) not met: 12.13%
Jest: "global" coverage threshold for branches (70%) not met: 48.49%
Jest: "global" coverage threshold for lines (70%) not met: 12.13%
Jest: "global" coverage threshold for functions (70%) not met: 28.97%
Summary of all failing tests
FAIL __tests__/components/navigation/Header.test.tsx
  ‚óè Header ‚Ä∫ should render user email when authenticated

    TestingLibraryElementError: Unable to find an element with the text: test@example.com. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0mÔøΩÔøΩ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      59 | 		render(<Header />);
      60 |
    > 61 | 		expect(screen.getByText('test@example.com')).toBeInTheDocument();
         | 		              ^
      62 | 	});
      63 |
      64 | 	it('should call signOut when sign out button is clicked', async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/navigation/Header.test.tsx:61:17)

  ‚óè Header ‚Ä∫ should call signOut when sign out button is clicked

    TestingLibraryElementError: Unable to find an element with the text: Sign Out. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0mÔøΩÔøΩ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      76 | 		render(<Header />);
      77 |
    > 78 | 		const signOutButton = screen.getByText('Sign Out');
         | 		                             ^
      79 | 		fireEvent.click(signOutButton);
      80 |
      81 | 		await waitFor(() => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/navigation/Header.test.tsx:78:32)

  ‚óè Header ‚Ä∫ should show role badges for authenticated users

    TestingLibraryElementError: Unable to find an element with the text: /Admin|Teacher/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<header[39m
          [33mclass[39m=[32m"bg-white dark:bg-gray-800 shadow-md"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex justify-between items-center"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate"[39m
              [36m>[39m
                [0mÔøΩÔøΩ Guitar CRM[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-label[39m=[32m"Toggle menu"[39m
                [33mclass[39m=[32m"md:hidden ml-4 p-2 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"w-6 h-6"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M4 6h16M4 12h16M4 18h16"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<div[39m
                [33mclass[39m=[32m"hidden sm:flex items-center gap-2 sm:gap-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign In[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 sm:px-4 py-2 rounded-lg transition-colors text-sm"[39m
                [36m>[39m
                  [0mSign Up[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</header>[39m
      [36m</div>[39m
    [36m</body>[39m

      117 |
      118 | 		// Check for role badges (not navigation items)
    > 119 | 		const badges = screen.getAllByText(/Admin|Teacher/);
          | 		                      ^
      120 | 		expect(badges.length).toBeGreaterThan(0);
      121 | 		expect(screen.getByText('test@example.com')).toBeInTheDocument();
      122 | 	});

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15
      at Object.getAllByText (__tests__/components/navigation/Header.test.tsx:119:25)

  ‚óè Header ‚Ä∫ should not show sign in/up buttons when loading

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <button class="text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors text-sm">Sign In</button> instead

      135 | 		render(<Header />);
      136 |
    > 137 | 		expect(screen.queryByText('Sign In')).not.toBeInTheDocument();
          | 		                                          ^
      138 | 		expect(screen.queryByText('Sign Up')).not.toBeInTheDocument();
      139 | 	});
      140 | });

      at Object.toBeInTheDocument (__tests__/components/navigation/Header.test.tsx:137:45)

FAIL __tests__/components/songs/SongList.test.tsx
  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should render loading state initially

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:43:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should display error message on fetch failure

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:57:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Loading and Error States ‚Ä∫ should display error when user is not authenticated

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:85:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Empty State ‚Ä∫ should display empty state when no songs exist

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:103:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Teacher/Admin Role ‚Ä∫ should display songs for teacher users with correct endpoint

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:146:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Teacher/Admin Role ‚Ä∫ should display songs for admin users with correct endpoint

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:201:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Song Display - Student Role ‚Ä∫ should display assigned songs with status for student users

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:269:4)

  ‚óè SongList Component - Enhanced Tests ‚Ä∫ Level Filtering ‚Ä∫ should support level filtering in API call

    TypeError: (0 , _auth.useAuth) is not a function

      19 |
      20 | export default function useSongList() {
    > 21 | 	const { user, isTeacher, isAdmin } = useAuth();
         | 	                                            ^
      22 | 	const [songs, setSongs] = useState<SongWithStatus[]>([]);
      23 | 	const [loading, setLoading] = useState(true);
      24 | 	const [error, setError] = useState<string | null>(null);

      at useSongList (components/songs/useSongList.ts:21:46)
      at SongList (components/songs/SongList.tsx:11:68)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at render (__tests__/components/songs/SongList.test.tsx:16:60)
      at Object.render (__tests__/components/songs/SongList.test.tsx:324:4)

FAIL __tests__/components/auth/RequireRole.test.tsx
  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should render children when user is authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      40 | 			});
      41 |
    > 42 | 			render(
         | 			      ^
      43 | 				<RequireAuth>
      44 | 					<div>Protected Content</div>
      45 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:42:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should show loading state when auth is loading

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      58 | 			});
      59 |
    > 60 | 			render(
         | 			      ^
      61 | 				<RequireAuth>
      62 | 					<div>Protected Content</div>
      63 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:60:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAuth ‚Ä∫ should redirect to sign-in when user is not authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      76 | 			});
      77 |
    > 78 | 			render(
         | 			      ^
      79 | 				<RequireAuth>
      80 | 					<div>Protected Content</div>
      81 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:78:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should render children when user is admin

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

       96 | 			});
       97 |
    >  98 | 			render(
          | 			      ^
       99 | 				<RequireAdmin>
      100 | 					<div>Admin Content</div>
      101 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:98:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should redirect non-admin to home when authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      114 | 			});
      115 |
    > 116 | 			render(
          | 			      ^
      117 | 				<RequireAdmin>
      118 | 					<div>Admin Content</div>
      119 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:116:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should redirect to sign-in when not authenticated

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      133 | 			});
      134 |
    > 135 | 			render(
          | 			      ^
      136 | 				<RequireAdmin>
      137 | 					<div>Admin Content</div>
      138 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:135:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireAdmin ‚Ä∫ should show loading state while checking auth

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      151 | 			});
      152 |
    > 153 | 			render(
          | 			      ^
      154 | 				<RequireAdmin>
      155 | 					<div>Admin Content</div>
      156 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:153:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should render children when user is teacher

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      171 | 			});
      172 |
    > 173 | 			render(
          | 			      ^
      174 | 				<RequireTeacher>
      175 | 					<div>Teacher Content</div>
      176 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:173:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should allow admin access (admin can do everything)

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      189 | 			});
      190 |
    > 191 | 			render(
          | 			      ^
      192 | 				<RequireTeacher>
      193 | 					<div>Teacher Content</div>
      194 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:191:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should redirect non-teacher to home

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      207 | 			});
      208 |
    > 209 | 			render(
          | 			      ^
      210 | 				<RequireTeacher>
      211 | 					<div>Teacher Content</div>
      212 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:209:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireTeacher ‚Ä∫ should handle users with multiple roles (teacher + student)

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      225 | 			});
      226 |
    > 227 | 			render(
          | 			      ^
      228 | 				<RequireTeacher>
      229 | 					<div>Teacher Content</div>
      230 | 				</RequireTeacher>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:227:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should render children when user is student

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      245 | 			});
      246 |
    > 247 | 			render(
          | 			      ^
      248 | 				<RequireStudent>
      249 | 					<div>Student Content</div>
      250 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:247:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should allow admin access

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      263 | 			});
      264 |
    > 265 | 			render(
          | 			      ^
      266 | 				<RequireStudent>
      267 | 					<div>Student Content</div>
      268 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:265:10)

  ‚óè Role-based Route Protection ‚Ä∫ RequireStudent ‚Ä∫ should redirect non-student to home

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      281 | 			});
      282 |
    > 283 | 			render(
          | 			      ^
      284 | 				<RequireStudent>
      285 | 					<div>Student Content</div>
      286 | 				</RequireStudent>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:283:10)

  ‚óè Role-based Route Protection ‚Ä∫ Custom redirect paths ‚Ä∫ should support custom redirect path for RequireAdmin

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      301 | 			});
      302 |
    > 303 | 			render(
          | 			      ^
      304 | 				<RequireAdmin redirectTo='/unauthorized'>
      305 | 					<div>Admin Content</div>
      306 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:303:10)

  ‚óè Role-based Route Protection ‚Ä∫ Custom redirect paths ‚Ä∫ should support custom redirect for unauthenticated users

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      319 | 			});
      320 |
    > 321 | 			render(
          | 			      ^
      322 | 				<RequireAdmin redirectTo='/custom-login'>
      323 | 					<div>Admin Content</div>
      324 | 				</RequireAdmin>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:321:10)

  ‚óè Role-based Route Protection ‚Ä∫ Loading customization ‚Ä∫ should support custom loading component

    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.

      339 | 			});
      340 |
    > 341 | 			render(
          | 			      ^
      342 | 				<RequireAuth loadingComponent={<div>Custom Loading...</div>}>
      343 | 					<div>Protected Content</div>
      344 | 				</RequireAuth>

      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:5021:28)
      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:5035:14)
      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:6920:31)
      at node_modules/react-dom/cjs/react-dom-client.development.js:7098:33
      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:9702:13)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11899:15)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/auth/RequireRole.test.tsx:341:10)

FAIL __tests__/components/auth/ProtectedRoute.test.tsx
  ‚óè Test suite failed to run

      [31mx[0m Expected '}', got '<eof>'
        ,-[[36;1;4m/Users/piotrromanczuk/Desktop/guitar-crm/components/auth/ProtectedRoute.tsx[0m:77:1]
     [2m74[0m |         return null;
     [2m75[0m |     }
     [2m76[0m | 
     [2m77[0m |     return <>{children}</>;
        : [35;1m                           ^[0m
     [2m78[0m | 
        `----


    Caused by:
        Syntax Error

      13 | // Mock next/navigation
      14 | jest.mock('next/navigation', () => ({
    > 15 | 	useRouter: jest.fn(),
         | 	                     ^
      16 | }));
      17 |
      18 | const mockUseAuth = useAuth as jest.MockedFunction<typeof useAuth>;

      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1409:25)
      at transformSync (node_modules/next/src/build/swc/index.ts:1544:19)
      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)
      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)
      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)
      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)
      at Object.<anonymous> (__tests__/components/auth/ProtectedRoute.test.tsx:15:64)

FAIL __tests__/components/auth/AuthProvider.test.tsx (7.277 s)
  ‚óè AuthProvider ‚Ä∫ Initialization ‚Ä∫ should load existing session on mount

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

      70 | 			});
      71 |
    > 72 | 			expect(result.current.user).toEqual(mockSession.user);
         | 			                            ^
      73 | 			expect(result.current.session).toEqual(mockSession);
      74 | 		});
      75 |

      at Object.toEqual (__tests__/components/auth/AuthProvider.test.tsx:72:32)

  ‚óè AuthProvider ‚Ä∫ Initialization ‚Ä∫ should set up auth state change listener

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      82 | 			renderHook(() => useAuth(), { wrapper });
      83 |
    > 84 | 			expect(supabase.auth.onAuthStateChange).toHaveBeenCalled();
         | 			                                        ^
      85 | 		});
      86 | 	});
      87 |

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:84:44)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should update state when user signs in

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

      115 | 			});
      116 |
    > 117 | 			expect(result.current.user).toEqual(mockSession.user);
          | 			                            ^
      118 | 			expect(result.current.session).toEqual(mockSession);
      119 | 		});
      120 |

      at Object.toEqual (__tests__/components/auth/AuthProvider.test.tsx:117:32)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should update state when user signs out

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      140 |
      141 | 			await waitFor(() => {
    > 142 | 				expect(result.current.user).toEqual(mockSession.user);
          | 				                            ^
      143 | 			});
      144 |
      145 | 			act(() => {

      at toEqual (__tests__/components/auth/AuthProvider.test.tsx:142:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Authentication State ‚Ä∫ should handle token refresh

    expect(received).toBe(expected) // Object.is equality

    Expected: "old_token"
    Received: undefined

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      176 |
      177 | 			await waitFor(() => {
    > 178 | 				expect(result.current.session?.access_token).toBe('old_token');
          | 				                                             ^
      179 | 			});
      180 |
      181 | 			act(() => {

      at toBe (__tests__/components/auth/AuthProvider.test.tsx:178:50)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Sign Out ‚Ä∫ should call supabase signOut when signOut is called

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      207 | 			});
      208 |
    > 209 | 			expect(supabase.auth.signOut).toHaveBeenCalled();
          | 			                              ^
      210 | 		});
      211 |
      212 | 		it('should clear user state after sign out', async () => {

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:209:34)

  ‚óè AuthProvider ‚Ä∫ Sign Out ‚Ä∫ should clear user state after sign out

    expect(received).toEqual(expected) // deep equality

    Expected: {"email": "test@example.com", "id": "123"}
    Received: null

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div />[39m
      [36m</body>[39m
    [36m</html>[39m

      234 |
      235 | 			await waitFor(() => {
    > 236 | 				expect(result.current.user).toEqual(mockSession.user);
          | 				                            ^
      237 | 			});
      238 |
      239 | 			await act(async () => {

      at toEqual (__tests__/components/auth/AuthProvider.test.tsx:236:33)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify admin users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      273 | 			});
      274 |
    > 275 | 			expect(result.current.isAdmin).toBe(true);
          | 			                               ^
      276 | 		});
      277 |
      278 | 		it('should correctly identify teacher users', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:275:35)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify teacher users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      297 | 			});
      298 |
    > 299 | 			expect(result.current.isTeacher).toBe(true);
          | 			                                 ^
      300 | 		});
      301 |
      302 | 		it('should correctly identify student users', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:299:37)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should correctly identify student users

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      321 | 			});
      322 |
    > 323 | 			expect(result.current.isStudent).toBe(true);
          | 			                                 ^
      324 | 		});
      325 |
      326 | 		it('should handle users with multiple roles', async () => {

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:323:37)

  ‚óè AuthProvider ‚Ä∫ Role Checking ‚Ä∫ should handle users with multiple roles

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      349 | 			});
      350 |
    > 351 | 			expect(result.current.isTeacher).toBe(true);
          | 			                                 ^
      352 | 			expect(result.current.isStudent).toBe(true);
      353 | 			expect(result.current.isAdmin).toBe(false);
      354 | 		});

      at Object.toBe (__tests__/components/auth/AuthProvider.test.tsx:351:37)

  ‚óè AuthProvider ‚Ä∫ Cleanup ‚Ä∫ should unsubscribe from auth state changes on unmount

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

      370 | 			unmount();
      371 |
    > 372 | 			expect(unsubscribeMock).toHaveBeenCalled();
          | 			                        ^
      373 | 		});
      374 | 	});
      375 | });

      at Object.toHaveBeenCalled (__tests__/components/auth/AuthProvider.test.tsx:372:28)


Test Suites: 5 failed, 17 passed, 22 total
Tests:       41 failed, 158 passed, 199 total
Snapshots:   0 total
Time:        9.446 s
Ran all test suites.
[0;31m‚ùå Coverage report not found[0m
[0;31m‚ùå Coverage report not found[0m

üìù Checking for TODO/FIXME comments...
grep: ./.mcp/shadcn-server/node_modules/ipaddr.js: Is a directory
grep: ./node_modules/decimal.js: Is a directory
[1;33m‚ö†Ô∏è  Found     6316 TODO/FIXME comments[0m
./app/api/dashboard/stats/route.ts:86:					studentProgress: 0, // TODO: Calculate average progress
./app/api/dashboard/stats/route.ts:116:					progress: 0, // TODO: Calculate progress percentage
./.mcp/shadcn-server/node_modules/@types/express-serve-static-core/index.d.ts:105:    : Route extends `${string}(${string}` ? ParamsDictionary // TODO: handling for regex parameters
./.mcp/shadcn-server/node_modules/@types/express-serve-static-core/index.d.ts:109:                    : GetRouteParameter<Rest> extends `${infer ParamName}?` ? { [P in ParamName]?: string } // TODO: Remove old `?` handling when Express 5 is promoted to "latest"
./.mcp/shadcn-server/node_modules/@types/node/compatibility/indexable.d.ts:2:// TODO: these methods are not used within @types/node, and should be removed at the next
./.mcp/shadcn-server/node_modules/@types/node/compatibility/iterators.d.ts:6:// TODO: remove once this package no longer supports TS 5.5, and replace NodeJS.BuiltinIteratorReturn with BuiltinIteratorReturn.
./.mcp/shadcn-server/node_modules/@types/node/compatibility/disposable.d.ts:2:// TODO: remove once this package no longer supports TS 5.1, and replace with a
./.mcp/shadcn-server/node_modules/@types/node/globals.d.ts:439:        // TODO: In next major @types/node version, change default TReturn to undefined.
./.mcp/shadcn-server/node_modules/@types/node/globals.d.ts:446:        // TODO: In next major @types/node version, change default TReturn to undefined.
./.mcp/shadcn-server/node_modules/@types/node/timers.d.ts:69:            // TODO: remove in a future major version bump
xargs: grep: terminated with signal 13; aborting
... and 6306 more

üß© Checking component file sizes (advisory)...
[1;33m‚ö†Ô∏è  The following files exceed 300 lines:[0m
app/api/song/route.ts (     301 lines)
Consider splitting into smaller, composable components.

üì¶ Checking bundle size...
220K	.next/static/chunks/58e77fc17acbf1e7.js
184K	.next/static/chunks/d8a05102d3785352.js
124K	.next/static/chunks/6fe7031d98ed9c0a.js
112K	.next/static/chunks/a6dad97d9634a72d.js
 84K	.next/static/chunks/fb283c6c0a1825c5.js


üóÑÔ∏è Running Database Quality Check...
[0;34müîç DATABASE QUALITY CHECK[0m
======================

[0;34müì° Checking Supabase status...[0m
[0;32m‚úÖ Supabase is running[0m

[0;34müîç Checking test data integrity...[0m

[1;33mChecking test users:[0m
Test users count:      5

[1;33mChecking for real emails (should be 0):[0m
[0;32m‚úÖ No real emails found[0m

[1;33mChecking songs:[0m
Total songs:     13
Difficulty distribution:
 beginner     |     5
 intermediate |     5
 advanced     |     3


[1;33mChecking lessons:[0m
Total lessons:     12

[1;33mChecking lesson-songs:[0m
Total lesson-song associations:     32

[1;33mChecking for orphaned records:[0m
[0;32m‚úÖ No orphaned lesson-song records[0m

[1;33mChecking profiles:[0m
Total profiles:      6
Role distribution:
           1 |             2 |             4


[0;34müìä DATABASE SUMMARY[0m
======================
Test Users:      5
Songs:     13
Lessons:     12
Lesson-Song Associations:     32
Profiles:      6

[0;32m‚úÖ DATABASE QUALITY CHECK PASSED[0m
Database contains sufficient test data and no critical issues
[0;32m‚úÖ Database quality check passed[0m

ÔøΩ Lighthouse Scores
=======================
jq: error (at lighthouse-results.json:9382): null (null) and number (100) cannot be multiplied
Performance     [0;31m‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë[0m  38
Accessibility   [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
Best Practices  [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
SEO             [0;32m‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà[0m 100
./scripts/ci/quality-check.sh: line 74: [: PWA: integer expression expected
./scripts/ci/quality-check.sh: line 76: [: PWA: integer expression expected
./scripts/ci/quality-check.sh: line 90: printf: PWA: invalid number
                [0;31m‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë[0m   0

[1;33m‚ö†Ô∏è  Some Lighthouse scores are below 90[0m

======================
jq: error (at lighthouse-results.json:9382): null (null) and number (100) cannot be multiplied

üìä EXECUTION SUMMARY
===================

Lighthouse:
Performance:     38.00%  ‚ùå
Accessibility:  100.00%  ‚úÖ
Best Practices: 100.00%  ‚úÖ
SEO:            100.00%  ‚úÖ

======================
